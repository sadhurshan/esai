# Stage 01 Copilot Audit Checklist

## AI-ready checklist (Stage 02)
Use this table as the execution checklist for AI agents. Each row must be completed with evidence links and acceptance verification before it is marked done.

| Order | Item | Acceptance criteria | Evidence required | Dependencies | Owner | Target date |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | Search grounding coverage doc | Coverage doc lists RFQ, PO, receiving, invoice, and contract sources with status tags; ownership noted | Link to [docs/AI-ML-Implementation/search-grounding.md](docs/AI-ML-Implementation/search-grounding.md) | Confirm module owners + source-of-truth data sets | Product + Data | 2026-02-18 |
| 2 | Design principles (auditability, human-in-loop, graceful fallback) | AI prompts/actions logged with user/time/context; approvals enforced; fallback UX shown when AI unavailable | [app/Http/Controllers/Api/V1/AiActionsController.php](app/Http/Controllers/Api/V1/AiActionsController.php), [app/Services/Ai/ChatService.php](app/Services/Ai/ChatService.php), [resources/js/components/ai/CopilotChatPanel.tsx](resources/js/components/ai/CopilotChatPanel.tsx) | Audit log retention policy + RBAC matrix | Security + Platform | 2026-02-25 |
| 3 | Seed receiving + invoice tools | New tools `workspace.get_receipts` and `workspace.get_invoices` return tenant-scoped mocked envelopes; tool definitions are validated; contract tests exist | Links to tool definitions in [app/Enums/AiChatToolCall.php](app/Enums/AiChatToolCall.php), handlers in [app/Services/Ai/WorkspaceToolResolver.php](app/Services/Ai/WorkspaceToolResolver.php), and tests in [tests/Feature/Ai/WorkspaceToolsTest.php](tests/Feature/Ai/WorkspaceToolsTest.php) | Tool schema versioning policy (see AI3.6 in [docs/UAT_BACKLOG_CHECKLIST_FULL.md](docs/UAT_BACKLOG_CHECKLIST_FULL.md#L605-L605)) | Backend + AI Eng | 2026-02-22 |
| 4 | Receiving quality workflow stub | Workflow template for `receiving_quality` registers; `WorkflowService::startWorkflow` persists the step; tests cover registration | Links to [config/ai_workflows.php](config/ai_workflows.php), [app/Services/Ai/WorkflowService.php](app/Services/Ai/WorkflowService.php), and [tests/Feature/Api/Ai/ReceivingQualityWorkflowTest.php](tests/Feature/Api/Ai/ReceivingQualityWorkflowTest.php) | Workflow schema contract test between Laravel + microservice | Backend + AI Eng | 2026-02-25 |
| 5 | Guided resolution response type | Chat UI can render a fallback card with CTA + URL; response type documented in types; failure responses use it | Links to UI in [resources/js/components/ai/CopilotChatPanel.tsx](resources/js/components/ai/CopilotChatPanel.tsx), types in [resources/js/types/ai-chat.ts](resources/js/types/ai-chat.ts), and fallback payloads in [app/Services/Ai/ChatService.php](app/Services/Ai/ChatService.php) plus [app/Http/Controllers/Api/V1/AiActionsController.php](app/Http/Controllers/Api/V1/AiActionsController.php) | Copy + URL targets for each unsupported action (spec) | Frontend + Product | 2026-02-22 |
| 6 | Chat/tool error monitoring cards | Widget shows counters for rejected drafts + tool failures; counters increment on events; UI has labels | Links to [resources/js/components/ai/CopilotChatWidget.tsx](resources/js/components/ai/CopilotChatWidget.tsx), [resources/js/components/ai/CopilotChatBubble.tsx](resources/js/components/ai/CopilotChatBubble.tsx), [resources/js/hooks/api/ai/use-ai-chat-send.ts](resources/js/hooks/api/ai/use-ai-chat-send.ts), and [resources/js/hooks/api/ai/use-ai-draft-approval.ts](resources/js/hooks/api/ai/use-ai-draft-approval.ts) | AI ops metrics definitions | Frontend + Backend | 2026-02-22 |
| 7 | RFQ Assist (prefill, gap checks, rationale) | Prefill material/finish/process/qty/lead time from title/attachments; flag missing/conflicting fields; show rationale; fields remain editable | [resources/js/pages/rfqs/rfq-create-wizard.tsx](resources/js/pages/rfqs/rfq-create-wizard.tsx), [resources/js/pages/inventory/alerts/low-stock-alert-page.tsx](resources/js/pages/inventory/alerts/low-stock-alert-page.tsx), [resources/js/pages/digital-twins/detail-page.tsx](resources/js/pages/digital-twins/detail-page.tsx), [resources/js/lib/rfq-assist.ts](resources/js/lib/rfq-assist.ts), [deep-specs/documents.md](deep-specs/documents.md) | File parsing + attachment metadata extraction | AI Eng + Frontend | 2026-02-28 |
| 8 | Supplier Matching (fit, rationale, filters) | Rank by capability/material/finish/location/outcomes; show rationale badges; respect filters + plan rules | [app/Services/SupplierFitService.php](app/Services/SupplierFitService.php), [app/Http/Controllers/Api/SupplierController.php](app/Http/Controllers/Api/SupplierController.php), [resources/js/pages/suppliers/supplier-directory-page.tsx](resources/js/pages/suppliers/supplier-directory-page.tsx) | Supplier scoring data + match rationale display | Backend + Frontend | 2026-02-28 |
| 9 | Cost Band Estimator | Price band computed from process/material/region/history; surfaced with explanation; never auto-applies | [database/migrations/2026_02_11_120000_create_pricing_observations_table.php](database/migrations/2026_02_11_120000_create_pricing_observations_table.php), [app/Models/PricingObservation.php](app/Models/PricingObservation.php), [app/Services/PricingObservationService.php](app/Services/PricingObservationService.php), [app/Services/CostBandEstimator.php](app/Services/CostBandEstimator.php), [app/Http/Controllers/Api/SupplierController.php](app/Http/Controllers/Api/SupplierController.php), [resources/js/hooks/api/useSuppliers.ts](resources/js/hooks/api/useSuppliers.ts), [resources/js/pages/suppliers/supplier-directory-page.tsx](resources/js/pages/suppliers/supplier-directory-page.tsx), [docs/REQUIREMENTS_FULL.md](docs/REQUIREMENTS_FULL.md) | Historical pricing data + estimator model | AI Eng + Backend | 2026-03-01 |
| 10 | Quote Assist (buyer + supplier) | Supplier sees price/lead-time bands; buyer sees outlier and lead-time/MOQ flags with explanations | [resources/js/components/quotes/quote-compare-table.tsx](resources/js/components/quotes/quote-compare-table.tsx), [resources/js/lib/money.ts](resources/js/lib/money.ts) | Quote analytics + banding rules | AI Eng + Frontend | 2026-03-01 |
| 11 | CAD / Drawing Intelligence | Parse filenames/drawing text for material/finish/tolerance tags; show similar parts; flag complex GD&T for human review | [database/migrations/2026_02_11_130000_create_ai_document_extractions_table.php](database/migrations/2026_02_11_130000_create_ai_document_extractions_table.php), [app/Models/AiDocumentExtraction.php](app/Models/AiDocumentExtraction.php), [app/Jobs/ParseCadDocumentJob.php](app/Jobs/ParseCadDocumentJob.php), [app/Services/Documents/CadExtractionService.php](app/Services/Documents/CadExtractionService.php), [app/Http/Controllers/Api/CadExtractionController.php](app/Http/Controllers/Api/CadExtractionController.php), [resources/js/components/rfqs/attachment-uploader.tsx](resources/js/components/rfqs/attachment-uploader.tsx), [deep-specs/documents.md](deep-specs/documents.md) | CAD text extraction + parsing pipeline | AI Eng + Backend | 2026-03-08 |
| 12 | Digital Twin Intelligence | Auto-link quotes/process notes/QA certs/warranty to twin; suggest follow-up prompts (warranty/reminder/reorder/preferred supplier) | [app/Services/DigitalTwin/DigitalTwinLinkService.php](app/Services/DigitalTwin/DigitalTwinLinkService.php), [app/Services/DigitalTwin/DigitalTwinPromptService.php](app/Services/DigitalTwin/DigitalTwinPromptService.php), [app/Http/Resources/RFQResource.php](app/Http/Resources/RFQResource.php), [app/Actions/Rfq/AwardLineItemsAction.php](app/Actions/Rfq/AwardLineItemsAction.php), [app/Services/RfqClarificationService.php](app/Services/RfqClarificationService.php), [resources/js/pages/rfqs/rfq-detail-page.tsx](resources/js/pages/rfqs/rfq-detail-page.tsx), [resources/js/pages/rfqs/rfq-create-wizard.tsx](resources/js/pages/rfqs/rfq-create-wizard.tsx) | Linking rules + trigger points | Backend + Product | 2026-03-08 |
| 13 | Forecasting & Inventory Insights | Lead-time variance used in reorder points; safety stock/order-by/qty outputs with explanation; what-if scenarios supported | [resources/js/components/ai/ForecastInsightCard.tsx](resources/js/components/ai/ForecastInsightCard.tsx), [resources/js/services/ai.ts](resources/js/services/ai.ts), [ai_microservice/app.py](ai_microservice/app.py), [ai_service.py](ai_service.py), [ai_microservice/tools_contract.py](ai_microservice/tools_contract.py) | Forecast training data + inventory policies | AI Eng + Backend | 2026-03-08 |
| 14 | Supplier Risk (predictive) | Risk score combines multi-signal inputs; explainable badges; mitigation tips surfaced | [resources/js/pages/risk/risk-page.tsx](resources/js/pages/risk/risk-page.tsx), [resources/js/components/ai/SupplierRiskBadge.tsx](resources/js/components/ai/SupplierRiskBadge.tsx), [ai_microservice/app.py](ai_microservice/app.py), [ai_service.py](ai_service.py), [app/Services/SupplierRiskService.php](app/Services/SupplierRiskService.php), [app/Services/Ai/WorkspaceToolResolver.php](app/Services/Ai/WorkspaceToolResolver.php) | Risk model inputs + scoring data | AI Eng + Backend | 2026-03-08 |
| 15 | ESG Packs | One-click evidence bundle; export PDF/CSV; show data sources + assumptions | [app/Services/EsgExportService.php](app/Services/EsgExportService.php), [app/Http/Controllers/Api/SupplierEsgController.php](app/Http/Controllers/Api/SupplierEsgController.php) | ESG data ingestion + evidence links | Backend + Product | 2026-03-15 |
| 16 | Copilot (read + approved actions) | Natural-language Q&A with citations; drafts require approval; actions are logged; workspace tools cover all modules | [resources/js/components/ai/CopilotChatPanel.tsx](resources/js/components/ai/CopilotChatPanel.tsx), [app/Services/Ai/ChatService.php](app/Services/Ai/ChatService.php), [ai_microservice/app.py](ai_microservice/app.py), [app/Services/Ai/WorkspaceToolResolver.php](app/Services/Ai/WorkspaceToolResolver.php), [app/Http/Controllers/Api/V1/AiActionsController.php](app/Http/Controllers/Api/V1/AiActionsController.php) | Full tool coverage + workflow extensions | AI Eng + Backend + Frontend | 2026-03-15 |
| 17 | Learning Loop (accuracy + freshness visibility) | Accepted outcomes feed training; model accuracy (MAPE/MAE) + data freshness visible in UI | [ai_microservice/app.py](ai_microservice/app.py), [resources/js/pages/admin/admin-ai-model-health-page.tsx](resources/js/pages/admin/admin-ai-model-health-page.tsx) | Training pipeline + metrics storage | AI Eng + Platform | 2026-03-15 |

## Production readiness note (2026-02-11)
- Tooling checks are green: `composer run test`, `npm run types`, `npm run lint`.
- AI feature gates, background queues, and monitoring should be validated in the production environment prior to rollout.
