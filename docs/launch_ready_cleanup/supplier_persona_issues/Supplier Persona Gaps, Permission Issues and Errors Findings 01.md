1. Supplier order APIs ignore the buyer scoping that the persona is supposed to enforce. Once a supplier switches into buyer A’s persona, /api/supplier/orders (and its show/acknowledge variants) still bypass CompanyContext and filter only by supplier_company_id, so they happily return every order for that supplier across all buyers. This violates the spec requirement to “show only supplier-allowed routes” per active persona and leaks buyer B’s POs while the UI claims the user is operating for buyer A (docs/prompts/Owner operate both as buyer and supplier without breaking the tenant model.md, SupplierOrderController.php:22-191). Use the already-available buyerCompanyId from resolveSupplierWorkspaceContext to hard filter every query, and add a guard that rejects requests when no buyer persona is active.

	**Status:** ✅ Fixed in `SupplierOrderController` by enforcing supplier persona guards and scoping every query to both `supplier_company_id` and the active buyer company (see lines 22-143).

2. Purchase order detail endpoints repeat the same hole. PurchaseOrderController@show/events/export/download (and even the supplier acknowledgement flow) only call supplierWorkspaceOwnsPurchaseOrder, which checks the supplier company id but never verifies the buyer company behind the current persona (PurchaseOrderController.php:118-417, PurchaseOrderController.php:563-608). A supplier acting for buyer A can therefore fetch or mutate any other buyer’s PO as long as the supplier company matches, defeating the tenant-isolation promise. These endpoints need to require that either (a) the buyer context matches ActivePersonaContext::companyId() or (b) no buyer persona is active (pure supplier workspace). Add regression tests that hit /api/purchase-orders/{id} with a persona tied to a different buyer and assert 403.

	**Status:** ✅ Fixed by tightening `PurchaseOrderController` guards to ensure the active buyer persona matches the PO’s buyer before allowing supplier access (including show, events, export, download, and acknowledge flows).

3. Supplier shipment APIs read the “active company” straight from resolveUserCompanyId, which is the buyer id when a persona is selected, and they use that value as supplier_company_id in every query (SupplierShipmentController.php:24-107). Result: supplier personas can never see their own shipments (the filters look for buyer company ids) and, worse, they could mutate shipments for any buyer tenant whose company id matches the current persona. Mirror the pattern used elsewhere: derive supplierCompanyId from resolveSupplierWorkspaceContext, enforce that a supplier persona is active when hitting /api/supplier/shipments, and keep the buyer company entirely out of these filters.

	**Status:** ✅ Fixed by switching `SupplierShipmentController` to require an active supplier persona and scoping all queries to both the persona’s supplier company and buyer company.