{
    "openapi": "3.1.0",
    "info": {
        "title": "Elements Supply API",
        "version": "2025.11.0",
        "summary": "Canonical contract for the Elements Supply public API.",
        "description": "Elements Supply is a multi-tenant sourcing and procurement platform that exposes a single\npublic API for authenticated buyers, suppliers, and platform administrators. All responses\nare wrapped in the standard envelope documented in `/docs/API_ENVELOPE.md` and conform to\nthe schemas defined in this spec. Unless noted otherwise, every path requires either a\nbearer token (Sanctum personal access token) or an API key issued by the platform admin\nconsole.\n",
        "contact": {
            "name": "Elements Supply Team",
            "url": "https://elements-supply.ai",
            "email": "support@elements-supply.ai"
        }
    },
    "servers": [
        {
            "url": "https://api.elements-supply.ai",
            "description": "Production API endpoint"
        },
        {
            "url": "https://{tenant}.elements-supply.ai",
            "description": "Tenant-scoped production endpoint",
            "variables": {
                "tenant": {
                    "description": "Subdomain slug for the tenant (e.g. `acme`)",
                    "default": "app"
                }
            }
        },
        {
            "url": "http://localhost/api",
            "description": "Local development"
        }
    ],
    "externalDocs": {
        "description": "Full product requirements",
        "url": "https://github.com/sadhurshan/elements-supply-ai/docs/REQUIREMENTS_FULL.md"
    },
    "tags": [
        {
            "name": "Health",
            "description": "Readiness and diagnostic endpoints"
        },
        {
            "name": "Auth",
            "description": "Authentication session management and API key usage"
        },
        {
            "name": "RFQs",
            "description": "Manage requests for quotation and related supplier interactions"
        },
        {
            "name": "Quotes",
            "description": "Quote submission, revision, and award workflows"
        },
        {
            "name": "Purchase Orders",
            "description": "Purchase order lifecycle, change orders, and totals"
        },
        {
            "name": "Orders",
            "description": "Supplier-facing order visibility endpoints"
        },
        {
            "name": "Invoices",
            "description": "Invoicing, credit notes, and financial reconciliation"
        },
        {
            "name": "Inventory",
            "description": "Goods receipt, issues, and warehouse movements"
        },
        {
            "name": "Exports",
            "description": "Bulk data export creation and download"
        },
        {
            "name": "CRM",
            "description": "Customer relationship data exports and insights"
        },
        {
            "name": "Suppliers",
            "description": "Supplier directory, segments, and applications"
        },
        {
            "name": "Notifications",
            "description": "In-app notification feeds and read state management"
        },
        {
            "name": "Risk",
            "description": "Supplier risk scoring and refresh workflows"
        },
        {
            "name": "Digital Twin",
            "description": "Asset telemetry, synchronization, and work orders"
        },
        {
            "name": "Analytics",
            "description": "Self-serve analytics reports and scheduled runs"
        },
        {
            "name": "Copilot",
            "description": "AI-assisted workflows and prompt catalogues"
        },
        {
            "name": "Documents",
            "description": "File uploads and document staging APIs"
        },
        {
            "name": "Localization",
            "description": "Localization settings, units of measure, and conversions"
        },
        {
            "name": "Money",
            "description": "Monetary settings, FX rates, and tax configuration"
        },
        {
            "name": "Approvals",
            "description": "Purchase order approval rules, requests, and delegations"
        },
        {
            "name": "Admin",
            "description": "Platform administration (plans, health, read-only reference data)"
        },
        {
            "name": "Webhooks",
            "description": "Outbound webhook subscription formats and delivery expectations"
        }
    ],
    "security": [
        {
            "bearerAuth": []
        },
        {
            "apiKeyAuth": []
        }
    ],
    "components": {
        "securitySchemes": {
            "apiKeyAuth": {
                "type": "apiKey",
                "in": "header",
                "name": "X-API-Key",
                "description": "API keys are issued and rotated in the platform admin console. Include the value in the\n`X-API-Key` header to authenticate machine-to-machine integrations.\n"
            },
            "bearerAuth": {
                "type": "http",
                "scheme": "bearer",
                "bearerFormat": "JWT",
                "description": "Supply a bearer token acquired via Sanctum. All tokens are scoped to a specific\ncompany tenant and inherit the permissions assigned to the issuing user.\n"
            }
        },
        "parameters": {
            "AcceptLanguage": {
                "name": "Accept-Language",
                "in": "header",
                "required": false,
                "description": "Overrides language resolution when localization features are enabled.",
                "schema": {
                    "type": "string"
                }
            },
            "CursorQuery": {
                "name": "cursor",
                "in": "query",
                "required": false,
                "description": "Cursor token for pagination.",
                "schema": {
                    "type": "string"
                }
            },
            "PageQuery": {
                "name": "page",
                "in": "query",
                "required": false,
                "schema": {
                    "type": "integer",
                    "minimum": 1
                }
            },
            "PerPageQuery": {
                "name": "per_page",
                "in": "query",
                "required": false,
                "schema": {
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 100
                }
            },
            "XRequestId": {
                "name": "X-Request-Id",
                "in": "header",
                "required": false,
                "description": "Correlates requests across services. Echoed back on every response when supplied.",
                "schema": {
                    "type": "string"
                }
            }
        },
        "headers": {
            "XRateLimitLimit": {
                "description": "Maximum number of requests allowed in the current window.",
                "schema": {
                    "type": "integer"
                }
            },
            "XRateLimitRemaining": {
                "description": "Remaining requests available in the current window.",
                "schema": {
                    "type": "integer"
                }
            },
            "XRateLimitReset": {
                "description": "Seconds until the current rate limit window resets.",
                "schema": {
                    "type": "integer"
                }
            },
            "XRequestId": {
                "description": "Unique identifier for the current request.",
                "schema": {
                    "type": "string"
                }
            },
            "XTraceId": {
                "description": "Internal trace identifier for support escalations.",
                "schema": {
                    "type": "string"
                }
            }
        },
        "schemas": {
            "AdminHealth": {
                "type": "object",
                "properties": {
                    "app_version": {
                        "type": "string"
                    },
                    "php_version": {
                        "type": "string"
                    },
                    "queue_connection": {
                        "type": "string"
                    },
                    "database_connected": {
                        "type": "boolean"
                    },
                    "pending_webhook_deliveries": {
                        "type": "integer"
                    }
                }
            },
            "ApiErrorResponse": {
                "allOf": [
                    {
                        "$ref": "#/components/schemas/ErrorEnvelope"
                    }
                ]
            },
            "ApiKey": {
                "type": "object",
                "required": [
                    "id",
                    "company_id",
                    "name",
                    "token_prefix"
                ],
                "properties": {
                    "id": {
                        "type": "integer"
                    },
                    "company_id": {
                        "type": "integer"
                    },
                    "owner_user_id": {
                        "type": "integer",
                        "nullable": true
                    },
                    "name": {
                        "type": "string"
                    },
                    "token_prefix": {
                        "type": "string",
                        "description": "First six characters of the secret for display."
                    },
                    "scopes": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "active": {
                        "type": "boolean"
                    },
                    "last_used_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "expires_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time"
                    }
                }
            },
            "ApiKeyPreview": {
                "type": "object",
                "required": [
                    "id",
                    "prefix",
                    "created_at",
                    "last_used_at"
                ],
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "prefix": {
                        "type": "string",
                        "description": "Safe-to-log key prefix (first 6 characters)."
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "last_used_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    }
                }
            },
            "ApiSuccessResponse": {
                "allOf": [
                    {
                        "$ref": "#/components/schemas/SuccessEnvelope"
                    }
                ]
            },
            "AuthToken": {
                "type": "object",
                "required": [
                    "token",
                    "type",
                    "expires_at"
                ],
                "properties": {
                    "token": {
                        "type": "string",
                        "description": "Personal access token value. Store securely."
                    },
                    "type": {
                        "type": "string",
                        "description": "Token type indicator (always `Bearer`).",
                        "enum": [
                            "Bearer"
                        ]
                    },
                    "expires_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    }
                }
            },
            "AwardLinesRequest": {
                "type": "object",
                "required": [
                    "lines"
                ],
                "properties": {
                    "lines": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "required": [
                                "rfq_item_id",
                                "quote_id",
                                "quantity"
                            ],
                            "properties": {
                                "rfq_item_id": {
                                    "type": "string",
                                    "format": "uuid"
                                },
                                "quote_id": {
                                    "type": "string",
                                    "format": "uuid"
                                },
                                "quantity": {
                                    "type": "integer",
                                    "minimum": 1
                                }
                            }
                        }
                    }
                }
            },
            "CloseRfqRequest": {
                "type": "object",
                "properties": {
                    "reason": {
                        "type": "string",
                        "nullable": true,
                        "description": "Buyer-provided rationale for closing the RFQ."
                    },
                    "closed_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true,
                        "description": "Overrides the default (now) close timestamp if the backend permits backdating."
                    }
                }
            },
            "CompanyProfile": {
                "type": "object",
                "required": [
                    "id",
                    "name",
                    "status"
                ],
                "properties": {
                    "id": {
                        "type": "integer"
                    },
                    "name": {
                        "type": "string"
                    },
                    "slug": {
                        "type": "string"
                    },
                    "status": {
                        "type": "string",
                        "description": "Buyer account status (pending, active, suspended, archived)."
                    },
                    "supplier_status": {
                        "type": "string",
                        "nullable": true
                    },
                    "email_domain": {
                        "type": "string",
                        "nullable": true
                    },
                    "primary_contact_name": {
                        "type": "string",
                        "nullable": true
                    },
                    "primary_contact_email": {
                        "type": "string",
                        "format": "email",
                        "nullable": true
                    },
                    "country": {
                        "type": "string",
                        "nullable": true
                    },
                    "website": {
                        "type": "string",
                        "format": "uri",
                        "nullable": true
                    },
                    "has_completed_onboarding": {
                        "type": "boolean"
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time"
                    }
                }
            },
            "CreditNote": {
                "type": "object",
                "required": [
                    "id",
                    "company_id",
                    "invoice_id",
                    "credit_number",
                    "status",
                    "total"
                ],
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "company_id": {
                        "type": "integer"
                    },
                    "invoice_id": {
                        "type": "integer"
                    },
                    "purchase_order_id": {
                        "type": "integer",
                        "nullable": true
                    },
                    "credit_number": {
                        "type": "string"
                    },
                    "status": {
                        "type": "string",
                        "enum": [
                            "draft",
                            "pending_review",
                            "issued",
                            "approved",
                            "rejected"
                        ]
                    },
                    "reason": {
                        "type": "string"
                    },
                    "total": {
                        "$ref": "#/components/schemas/Money"
                    },
                    "balance_remaining": {
                        "$ref": "#/components/schemas/Money"
                    },
                    "review_comment": {
                        "type": "string",
                        "nullable": true
                    },
                    "issued_by": {
                        "type": "integer",
                        "nullable": true
                    },
                    "approved_by": {
                        "type": "integer",
                        "nullable": true
                    },
                    "issued_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "approved_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "invoice": {
                        "type": "object",
                        "nullable": true,
                        "properties": {
                            "id": {
                                "type": "string",
                                "format": "uuid"
                            },
                            "invoice_number": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "CreditNoteCollection": {
                "type": "object",
                "required": [
                    "items",
                    "meta"
                ],
                "properties": {
                    "items": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/CreditNote"
                        }
                    },
                    "meta": {
                        "$ref": "#/components/schemas/PageMeta"
                    }
                }
            },
            "CursorMeta": {
                "type": "object",
                "description": "Pagination metadata for cursor endpoints.",
                "required": [
                    "next_cursor"
                ],
                "properties": {
                    "next_cursor": {
                        "type": "string",
                        "nullable": true
                    },
                    "prev_cursor": {
                        "type": "string",
                        "nullable": true
                    },
                    "has_next": {
                        "type": "boolean"
                    },
                    "has_prev": {
                        "type": "boolean"
                    }
                }
            },
            "DashboardMetrics": {
                "type": "object",
                "description": "Aggregated counts shown on the operations dashboard.",
                "required": [
                    "open_rfq_count",
                    "quotes_awaiting_review_count",
                    "pos_awaiting_acknowledgement_count",
                    "unpaid_invoice_count",
                    "low_stock_part_count"
                ],
                "properties": {
                    "open_rfq_count": {
                        "type": "integer",
                        "format": "int32",
                        "minimum": 0
                    },
                    "quotes_awaiting_review_count": {
                        "type": "integer",
                        "format": "int32",
                        "minimum": 0
                    },
                    "pos_awaiting_acknowledgement_count": {
                        "type": "integer",
                        "format": "int32",
                        "minimum": 0
                    },
                    "unpaid_invoice_count": {
                        "type": "integer",
                        "format": "int32",
                        "minimum": 0
                    },
                    "low_stock_part_count": {
                        "type": "integer",
                        "format": "int32",
                        "minimum": 0
                    }
                }
            },
            "EnvelopeMeta": {
                "allOf": [
                    {
                        "$ref": "#/components/schemas/RequestMeta"
                    }
                ],
                "description": "Legacy alias for response metadata."
            },
            "ErrorEnvelope": {
                "type": "object",
                "required": [
                    "status",
                    "message"
                ],
                "properties": {
                    "status": {
                        "type": "string",
                        "enum": [
                            "error"
                        ]
                    },
                    "message": {
                        "type": "string"
                    },
                    "code": {
                        "type": "string",
                        "nullable": true
                    },
                    "errors": {
                        "type": "object",
                        "description": "Field-level validation errors keyed by attribute.",
                        "additionalProperties": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        }
                    },
                    "data": {
                        "nullable": true,
                        "description": "Always null for error responses."
                    }
                },
                "additionalProperties": false
            },
            "ExportRequest": {
                "type": "object",
                "required": [
                    "id",
                    "type",
                    "status",
                    "filters",
                    "created_at"
                ],
                "properties": {
                    "id": {
                        "type": "integer"
                    },
                    "type": {
                        "type": "string",
                        "description": "Export payload type identifier."
                    },
                    "status": {
                        "type": "string",
                        "enum": [
                            "queued",
                            "processing",
                            "completed",
                            "failed",
                            "expired"
                        ]
                    },
                    "filters": {
                        "type": "object",
                        "additionalProperties": true
                    },
                    "requested_by": {
                        "type": "object",
                        "nullable": true,
                        "properties": {
                            "id": {
                                "type": "integer"
                            },
                            "name": {
                                "type": "string"
                            },
                            "email": {
                                "type": "string"
                            }
                        }
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "completed_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "expires_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true,
                        "description": "Timestamp when the export artifact is purged from storage. Clients must requeue after expiry."
                    },
                    "download_url": {
                        "type": "string",
                        "format": "uri",
                        "nullable": true
                    },
                    "error_message": {
                        "type": "string",
                        "nullable": true
                    }
                }
            },
            "FeatureFlag": {
                "type": "object",
                "required": [
                    "id",
                    "company_id",
                    "key",
                    "value"
                ],
                "properties": {
                    "id": {
                        "type": "integer"
                    },
                    "company_id": {
                        "type": "integer"
                    },
                    "key": {
                        "type": "string"
                    },
                    "value": {
                        "type": "boolean"
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time"
                    }
                }
            },
            "FxRate": {
                "type": "object",
                "required": [
                    "id",
                    "base_code",
                    "quote_code",
                    "rate",
                    "as_of"
                ],
                "properties": {
                    "id": {
                        "type": "integer"
                    },
                    "base_code": {
                        "type": "string"
                    },
                    "quote_code": {
                        "type": "string"
                    },
                    "rate": {
                        "type": "string"
                    },
                    "as_of": {
                        "type": "string",
                        "format": "date"
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time"
                    }
                }
            },
            "GoodsReceiptLine": {
                "type": "object",
                "required": [
                    "id",
                    "purchase_order_line_id",
                    "quantity_received"
                ],
                "properties": {
                    "id": {
                        "type": "integer"
                    },
                    "purchase_order_line_id": {
                        "type": "integer"
                    },
                    "quantity_received": {
                        "type": "number"
                    },
                    "quantity_accepted": {
                        "type": "number",
                        "nullable": true
                    },
                    "quantity_rejected": {
                        "type": "number",
                        "nullable": true
                    },
                    "rejection_reason": {
                        "type": "string",
                        "nullable": true
                    },
                    "attachments": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "id": {
                                    "type": "string",
                                    "format": "uuid"
                                },
                                "filename": {
                                    "type": "string"
                                },
                                "mime": {
                                    "type": "string"
                                },
                                "size_bytes": {
                                    "type": "integer"
                                }
                            }
                        }
                    }
                }
            },
            "GoodsReceiptNote": {
                "type": "object",
                "required": [
                    "id",
                    "purchase_order_id",
                    "number",
                    "status"
                ],
                "properties": {
                    "id": {
                        "type": "integer"
                    },
                    "company_id": {
                        "type": "integer"
                    },
                    "purchase_order_id": {
                        "type": "integer"
                    },
                    "number": {
                        "type": "string"
                    },
                    "status": {
                        "type": "string",
                        "enum": [
                            "draft",
                            "inspecting",
                            "accepted",
                            "rejected"
                        ]
                    },
                    "inspected_by_id": {
                        "type": "integer",
                        "nullable": true
                    },
                    "inspected_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "inspector": {
                        "type": "object",
                        "nullable": true,
                        "properties": {
                            "id": {
                                "type": "integer"
                            },
                            "name": {
                                "type": "string"
                            }
                        }
                    },
                    "lines": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/GoodsReceiptLine"
                        }
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time"
                    }
                }
            },
            "Invoice": {
                "type": "object",
                "required": [
                    "id",
                    "company_id",
                    "purchase_order_id",
                    "invoice_number",
                    "status",
                    "currency",
                    "total"
                ],
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "company_id": {
                        "type": "integer"
                    },
                    "purchase_order_id": {
                        "type": "integer"
                    },
                    "supplier_id": {
                        "type": "integer",
                        "nullable": true
                    },
                    "invoice_number": {
                        "type": "string"
                    },
                    "currency": {
                        "type": "string"
                    },
                    "status": {
                        "type": "string",
                        "enum": [
                            "draft",
                            "submitted",
                            "approved",
                            "rejected",
                            "paid"
                        ]
                    },
                    "subtotal": {
                        "type": "number",
                        "format": "float"
                    },
                    "tax_amount": {
                        "type": "number",
                        "format": "float"
                    },
                    "total": {
                        "type": "number",
                        "format": "float"
                    },
                    "match_summary": {
                        "type": "object",
                        "properties": {
                            "matched": {
                                "type": "integer"
                            },
                            "qty_mismatch": {
                                "type": "integer"
                            },
                            "price_mismatch": {
                                "type": "integer"
                            },
                            "unmatched": {
                                "type": "integer"
                            }
                        }
                    },
                    "document": {
                        "type": "object",
                        "nullable": true,
                        "properties": {
                            "id": {
                                "type": "string",
                                "format": "uuid"
                            },
                            "filename": {
                                "type": "string"
                            },
                            "mime": {
                                "type": "string"
                            },
                            "size_bytes": {
                                "type": "integer"
                            }
                        }
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time"
                    }
                }
            },
            "InvoiceCollection": {
                "type": "object",
                "required": [
                    "items",
                    "meta"
                ],
                "properties": {
                    "items": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Invoice"
                        }
                    },
                    "meta": {
                        "$ref": "#/components/schemas/PageMeta"
                    }
                }
            },
            "LocaleSetting": {
                "type": "object",
                "required": [
                    "locale",
                    "timezone",
                    "number_format",
                    "date_format",
                    "first_day_of_week",
                    "weekend_days"
                ],
                "properties": {
                    "locale": {
                        "type": "string"
                    },
                    "timezone": {
                        "type": "string"
                    },
                    "number_format": {
                        "type": "string"
                    },
                    "date_format": {
                        "type": "string"
                    },
                    "first_day_of_week": {
                        "type": "integer",
                        "minimum": 0,
                        "maximum": 6
                    },
                    "weekend_days": {
                        "type": "array",
                        "items": {
                            "type": "integer"
                        }
                    }
                }
            },
            "Money": {
                "type": "object",
                "description": "Monetary amount expressed in minor units. `amount` is derived from `amount_minor` and `currency` using the company rounding rules.",
                "required": [
                    "amount_minor",
                    "currency",
                    "amount"
                ],
                "properties": {
                    "amount_minor": {
                        "type": "integer"
                    },
                    "currency": {
                        "type": "string",
                        "minLength": 3,
                        "maxLength": 3
                    },
                    "amount": {
                        "type": "number",
                        "format": "float",
                        "description": "Derived major-unit representation. Submitters may omit; backend recalculates using company precision."
                    }
                }
            },
            "MoneySettings": {
                "type": "object",
                "required": [
                    "base_currency",
                    "pricing_currency",
                    "fx_source",
                    "price_round_rule",
                    "tax_regime",
                    "defaults"
                ],
                "properties": {
                    "id": {
                        "type": "integer",
                        "nullable": true
                    },
                    "company_id": {
                        "type": "integer"
                    },
                    "base_currency": {
                        "type": "object",
                        "nullable": true,
                        "properties": {
                            "code": {
                                "type": "string"
                            },
                            "name": {
                                "type": "string",
                                "nullable": true
                            },
                            "minor_unit": {
                                "type": "integer",
                                "nullable": true
                            },
                            "symbol": {
                                "type": "string",
                                "nullable": true
                            }
                        }
                    },
                    "pricing_currency": {
                        "type": "object",
                        "nullable": true,
                        "properties": {
                            "code": {
                                "type": "string"
                            },
                            "name": {
                                "type": "string",
                                "nullable": true
                            },
                            "minor_unit": {
                                "type": "integer",
                                "nullable": true
                            },
                            "symbol": {
                                "type": "string",
                                "nullable": true
                            }
                        }
                    },
                    "fx_source": {
                        "type": "string",
                        "enum": [
                            "manual",
                            "fixer",
                            "openexchangerates"
                        ]
                    },
                    "price_round_rule": {
                        "type": "string"
                    },
                    "tax_regime": {
                        "type": "string",
                        "enum": [
                            "exclusive",
                            "inclusive"
                        ]
                    },
                    "defaults": {
                        "type": "object",
                        "additionalProperties": true
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    }
                }
            },
            "PageMeta": {
                "type": "object",
                "description": "Page/offset pagination metadata.",
                "required": [
                    "current_page",
                    "per_page",
                    "total",
                    "last_page"
                ],
                "properties": {
                    "total": {
                        "type": "integer",
                        "minimum": 0
                    },
                    "per_page": {
                        "type": "integer",
                        "minimum": 1
                    },
                    "current_page": {
                        "type": "integer",
                        "minimum": 1
                    },
                    "last_page": {
                        "type": "integer",
                        "minimum": 1
                    },
                    "page": {
                        "type": "integer",
                        "minimum": 1,
                        "readOnly": true,
                        "description": "Alias provided for SDK ergonomics. Mirrors `current_page`."
                    }
                }
            },
            "Plan": {
                "type": "object",
                "required": [
                    "id",
                    "code",
                    "name",
                    "price_usd"
                ],
                "properties": {
                    "id": {
                        "type": "integer"
                    },
                    "code": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "price_usd": {
                        "type": "number",
                        "format": "float"
                    },
                    "rfqs_per_month": {
                        "type": "integer",
                        "nullable": true
                    },
                    "users_max": {
                        "type": "integer",
                        "nullable": true
                    },
                    "analytics_enabled": {
                        "type": "boolean"
                    },
                    "inventory_enabled": {
                        "type": "boolean"
                    },
                    "multi_currency_enabled": {
                        "type": "boolean"
                    },
                    "tax_engine_enabled": {
                        "type": "boolean"
                    },
                    "localization_enabled": {
                        "type": "boolean"
                    },
                    "exports_enabled": {
                        "type": "boolean"
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time"
                    }
                }
            },
            "PoChangeOrder": {
                "type": "object",
                "required": [
                    "id",
                    "purchase_order_id",
                    "status",
                    "reason"
                ],
                "properties": {
                    "id": {
                        "type": "integer"
                    },
                    "purchase_order_id": {
                        "type": "integer"
                    },
                    "status": {
                        "type": "string",
                        "enum": [
                            "proposed",
                            "accepted",
                            "rejected"
                        ]
                    },
                    "reason": {
                        "type": "string"
                    },
                    "po_revision_no": {
                        "type": "integer",
                        "nullable": true
                    },
                    "proposed_by_user_id": {
                        "type": "integer"
                    },
                    "proposed_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "changes_json": {
                        "type": "object",
                        "additionalProperties": true
                    },
                    "proposed_by_user": {
                        "type": "object",
                        "nullable": true,
                        "properties": {
                            "id": {
                                "type": "integer"
                            },
                            "name": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "PublishRfqRequest": {
                "type": "object",
                "required": [
                    "due_at"
                ],
                "properties": {
                    "due_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "publish_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "notify_suppliers": {
                        "type": "boolean",
                        "default": true
                    },
                    "message": {
                        "type": "string",
                        "nullable": true,
                        "description": "Optional note sent with publish notifications."
                    }
                }
            },
            "PurchaseOrder": {
                "type": "object",
                "required": [
                    "id",
                    "company_id",
                    "po_number",
                    "status",
                    "currency",
                    "total_minor"
                ],
                "properties": {
                    "id": {
                        "type": "integer"
                    },
                    "company_id": {
                        "type": "integer"
                    },
                    "po_number": {
                        "type": "string"
                    },
                    "status": {
                        "type": "string",
                        "enum": [
                            "draft",
                            "sent",
                            "acknowledged",
                            "fulfilled",
                            "closed",
                            "cancelled"
                        ]
                    },
                    "currency": {
                        "type": "string"
                    },
                    "incoterm": {
                        "type": "string",
                        "nullable": true
                    },
                    "tax_percent": {
                        "type": "number",
                        "format": "float",
                        "nullable": true
                    },
                    "subtotal": {
                        "type": "string"
                    },
                    "subtotal_minor": {
                        "type": "integer"
                    },
                    "tax_amount": {
                        "type": "string"
                    },
                    "tax_amount_minor": {
                        "type": "integer"
                    },
                    "total": {
                        "type": "string"
                    },
                    "total_minor": {
                        "type": "integer"
                    },
                    "revision_no": {
                        "type": "integer"
                    },
                    "rfq_id": {
                        "type": "integer",
                        "nullable": true
                    },
                    "quote_id": {
                        "type": "integer",
                        "nullable": true
                    },
                    "supplier": {
                        "type": "object",
                        "nullable": true,
                        "properties": {
                            "id": {
                                "type": "integer"
                            },
                            "name": {
                                "type": "string",
                                "nullable": true
                            }
                        }
                    },
                    "rfq": {
                        "type": "object",
                        "nullable": true,
                        "properties": {
                            "id": {
                                "type": "integer"
                            },
                            "number": {
                                "type": "string"
                            },
                            "title": {
                                "type": "string",
                                "nullable": true
                            }
                        }
                    },
                    "lines": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/PurchaseOrderLine"
                        }
                    },
                    "change_orders": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/PoChangeOrder"
                        }
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    }
                }
            },
            "PurchaseOrderLine": {
                "type": "object",
                "required": [
                    "id",
                    "line_no",
                    "quantity",
                    "unit_price_minor",
                    "line_total_minor"
                ],
                "properties": {
                    "id": {
                        "type": "integer"
                    },
                    "line_no": {
                        "type": "integer"
                    },
                    "description": {
                        "type": "string",
                        "nullable": true
                    },
                    "quantity": {
                        "type": "number"
                    },
                    "uom": {
                        "type": "string",
                        "nullable": true
                    },
                    "currency": {
                        "type": "string"
                    },
                    "unit_price": {
                        "type": "number",
                        "format": "float"
                    },
                    "unit_price_minor": {
                        "type": "integer"
                    },
                    "line_subtotal": {
                        "type": "number",
                        "format": "float"
                    },
                    "line_subtotal_minor": {
                        "type": "integer"
                    },
                    "tax_total": {
                        "type": "number",
                        "format": "float"
                    },
                    "tax_total_minor": {
                        "type": "integer"
                    },
                    "line_total": {
                        "type": "number",
                        "format": "float"
                    },
                    "line_total_minor": {
                        "type": "integer"
                    },
                    "delivery_date": {
                        "type": "string",
                        "format": "date",
                        "nullable": true
                    },
                    "taxes": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "id": {
                                    "type": "integer"
                                },
                                "tax_code_id": {
                                    "type": "integer"
                                },
                                "rate_percent": {
                                    "type": "number"
                                },
                                "amount_minor": {
                                    "type": "integer"
                                },
                                "amount": {
                                    "type": "number",
                                    "format": "float"
                                },
                                "sequence": {
                                    "type": "integer"
                                }
                            }
                        }
                    }
                }
            },
            "Quote": {
                "type": "object",
                "required": [
                    "id",
                    "rfq_id",
                    "supplier_id",
                    "status",
                    "currency",
                    "total_minor"
                ],
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "rfq_id": {
                        "type": "integer"
                    },
                    "supplier_id": {
                        "type": "integer"
                    },
                    "status": {
                        "type": "string",
                        "enum": [
                            "draft",
                            "submitted",
                            "awarded",
                            "withdrawn",
                            "expired"
                        ]
                    },
                    "currency": {
                        "type": "string"
                    },
                    "unit_price": {
                        "type": "number",
                        "format": "float"
                    },
                    "subtotal": {
                        "type": "string"
                    },
                    "subtotal_minor": {
                        "type": "integer"
                    },
                    "tax_amount": {
                        "type": "string"
                    },
                    "tax_amount_minor": {
                        "type": "integer"
                    },
                    "total": {
                        "type": "string"
                    },
                    "total_minor": {
                        "type": "integer"
                    },
                    "min_order_qty": {
                        "type": "integer",
                        "nullable": true
                    },
                    "lead_time_days": {
                        "type": "integer",
                        "nullable": true
                    },
                    "note": {
                        "type": "string",
                        "nullable": true
                    },
                    "revision_no": {
                        "type": "integer"
                    },
                    "submitted_by": {
                        "type": "integer",
                        "nullable": true
                    },
                    "submitted_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "withdrawn_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "withdraw_reason": {
                        "type": "string",
                        "nullable": true
                    },
                    "supplier": {
                        "type": "object",
                        "nullable": true,
                        "properties": {
                            "id": {
                                "type": "integer"
                            },
                            "name": {
                                "type": "string"
                            }
                        }
                    },
                    "items": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/QuoteItem"
                        }
                    },
                    "attachments": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "id": {
                                    "type": "string",
                                    "format": "uuid"
                                },
                                "filename": {
                                    "type": "string"
                                },
                                "path": {
                                    "type": "string"
                                },
                                "mime": {
                                    "type": "string"
                                },
                                "size_bytes": {
                                    "type": "integer"
                                }
                            }
                        }
                    },
                    "revisions": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/QuoteRevision"
                        }
                    }
                }
            },
            "QuoteItem": {
                "type": "object",
                "required": [
                    "id",
                    "quote_id",
                    "rfq_item_id",
                    "quantity",
                    "unit_price_minor"
                ],
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "quote_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "rfq_item_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "description": {
                        "type": "string",
                        "nullable": true
                    },
                    "quantity": {
                        "type": "integer"
                    },
                    "uom": {
                        "type": "string"
                    },
                    "unit_price": {
                        "type": "string"
                    },
                    "unit_price_minor": {
                        "type": "integer"
                    },
                    "line_total": {
                        "type": "string"
                    },
                    "line_total_minor": {
                        "type": "integer"
                    }
                }
            },
            "QuoteRevision": {
                "type": "object",
                "required": [
                    "id",
                    "quote_id",
                    "revision_no",
                    "status"
                ],
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "quote_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "revision_no": {
                        "type": "integer"
                    },
                    "status": {
                        "type": "string"
                    },
                    "submitted_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "note": {
                        "type": "string",
                        "nullable": true
                    }
                }
            },
            "QuoteSummary": {
                "type": "object",
                "required": [
                    "id",
                    "rfq_id",
                    "supplier_id",
                    "status",
                    "total_minor"
                ],
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "rfq_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "supplier_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "status": {
                        "type": "string"
                    },
                    "total": {
                        "type": "string"
                    },
                    "total_minor": {
                        "type": "integer"
                    },
                    "currency": {
                        "type": "string"
                    },
                    "submitted_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    }
                }
            },
            "RateLimitRule": {
                "type": "object",
                "required": [
                    "id",
                    "scope",
                    "window_seconds",
                    "max_requests"
                ],
                "properties": {
                    "id": {
                        "type": "integer"
                    },
                    "company_id": {
                        "type": "integer",
                        "nullable": true
                    },
                    "scope": {
                        "type": "string",
                        "description": "Logical grouping (e.g. `tenant`, `api_key`)."
                    },
                    "window_seconds": {
                        "type": "integer"
                    },
                    "max_requests": {
                        "type": "integer"
                    },
                    "active": {
                        "type": "boolean"
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time"
                    }
                }
            },
            "RequestMeta": {
                "type": "object",
                "description": "Metadata applied to every successful response. Includes request correlation identifiers and pagination cursors.",
                "required": [
                    "request_id"
                ],
                "properties": {
                    "request_id": {
                        "type": "string",
                        "description": "UUID assigned to the request (matches `X-Request-Id`)."
                    },
                    "pagination": {
                        "$ref": "#/components/schemas/PageMeta"
                    },
                    "cursor": {
                        "$ref": "#/components/schemas/CursorMeta"
                    }
                },
                "additionalProperties": false
            },
            "Rfq": {
                "type": "object",
                "required": [
                    "id",
                    "number",
                    "item_name",
                    "type",
                    "quantity",
                    "material",
                    "method",
                    "status",
                    "is_open_bidding"
                ],
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "number": {
                        "type": "string"
                    },
                    "item_name": {
                        "type": "string"
                    },
                    "type": {
                        "type": "string",
                        "enum": [
                            "ready_made",
                            "manufacture"
                        ]
                    },
                    "quantity": {
                        "type": "integer",
                        "minimum": 1
                    },
                    "material": {
                        "type": "string"
                    },
                    "method": {
                        "type": "string"
                    },
                    "tolerance": {
                        "type": "string",
                        "nullable": true
                    },
                    "finish": {
                        "type": "string",
                        "nullable": true
                    },
                    "client_company": {
                        "type": "string"
                    },
                    "status": {
                        "type": "string",
                        "enum": [
                            "awaiting",
                            "open",
                            "closed",
                            "awarded",
                            "cancelled"
                        ]
                    },
                    "deadline_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "sent_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "is_open_bidding": {
                        "type": "boolean"
                    },
                    "notes": {
                        "type": "string",
                        "nullable": true
                    },
                    "cad_path": {
                        "type": "string",
                        "nullable": true
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "items": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/RfqItem"
                        }
                    },
                    "quotes": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/QuoteSummary"
                        }
                    }
                }
            },
            "RfqAttachment": {
                "type": "object",
                "description": "Document attached to an RFQ per the documents deep spec.",
                "required": [
                    "id",
                    "filename",
                    "url",
                    "uploaded_at"
                ],
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "document_id": {
                        "type": "string",
                        "format": "uuid",
                        "description": "Identifier of the underlying Document resource."
                    },
                    "filename": {
                        "type": "string"
                    },
                    "mime": {
                        "type": "string",
                        "nullable": true
                    },
                    "size_bytes": {
                        "type": "integer",
                        "nullable": true
                    },
                    "url": {
                        "type": "string",
                        "format": "uri"
                    },
                    "uploaded_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "uploaded_by": {
                        "type": "object",
                        "nullable": true,
                        "description": "Condensed user summary for audit surfaces.",
                        "properties": {
                            "id": {
                                "type": "string",
                                "format": "uuid"
                            },
                            "name": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "RfqClarification": {
                "type": "object",
                "required": [
                    "id",
                    "rfq_id",
                    "type",
                    "body",
                    "created_at"
                ],
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "rfq_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "type": {
                        "type": "string",
                        "enum": [
                            "question",
                            "answer",
                            "amendment"
                        ]
                    },
                    "body": {
                        "type": "string"
                    },
                    "author": {
                        "type": "object",
                        "nullable": true
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "attachments": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "id": {
                                    "type": "string",
                                    "format": "uuid"
                                },
                                "filename": {
                                    "type": "string"
                                },
                                "url": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                }
            },
            "RfqCollection": {
                "type": "object",
                "required": [
                    "items",
                    "meta"
                ],
                "properties": {
                    "items": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Rfq"
                        }
                    },
                    "meta": {
                        "$ref": "#/components/schemas/PageMeta"
                    }
                }
            },
            "RfqInvitation": {
                "type": "object",
                "required": [
                    "id",
                    "supplier_id",
                    "status"
                ],
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "supplier_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "status": {
                        "type": "string"
                    },
                    "invited_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "responded_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    }
                }
            },
            "RfqItem": {
                "type": "object",
                "required": [
                    "id",
                    "line_no",
                    "part_name",
                    "quantity"
                ],
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "line_no": {
                        "type": "integer"
                    },
                    "part_name": {
                        "type": "string"
                    },
                    "spec": {
                        "type": "string",
                        "nullable": true
                    },
                    "quantity": {
                        "type": "integer",
                        "minimum": 1
                    },
                    "uom": {
                        "type": "string",
                        "nullable": true
                    },
                    "target_price": {
                        "type": "number",
                        "format": "float",
                        "nullable": true
                    }
                }
            },
            "RfqLinePayload": {
                "type": "object",
                "required": [
                    "part_name",
                    "quantity"
                ],
                "properties": {
                    "part_name": {
                        "type": "string"
                    },
                    "spec": {
                        "type": "string",
                        "nullable": true
                    },
                    "quantity": {
                        "type": "integer",
                        "minimum": 1
                    },
                    "uom": {
                        "type": "string",
                        "nullable": true
                    },
                    "target_price": {
                        "type": "number",
                        "format": "float",
                        "nullable": true
                    },
                    "notes": {
                        "type": "string",
                        "nullable": true
                    },
                    "cad_document_id": {
                        "type": "string",
                        "format": "uuid",
                        "nullable": true,
                        "description": "Reference to an uploaded CAD document."
                    }
                }
            },
            "RfqTimelineEntry": {
                "allOf": [
                    {
                        "$ref": "#/components/schemas/Timeline"
                    },
                    {
                        "type": "object",
                        "required": [
                            "event"
                        ],
                        "properties": {
                            "event": {
                                "type": "string",
                                "description": "Machine-readable event identifier (e.g., created, published, invitation_sent)."
                            },
                            "actor": {
                                "type": "object",
                                "nullable": true,
                                "properties": {
                                    "id": {
                                        "type": "string",
                                        "format": "uuid"
                                    },
                                    "name": {
                                        "type": "string"
                                    }
                                }
                            },
                            "context": {
                                "type": "object",
                                "additionalProperties": true,
                                "nullable": true,
                                "description": "Arbitrary metadata for UI rendering."
                            }
                        }
                    }
                ]
            },
            "Rma": {
                "type": "object",
                "required": [
                    "id",
                    "status",
                    "purchase_order_id"
                ],
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "status": {
                        "type": "string",
                        "enum": [
                            "draft",
                            "submitted",
                            "reviewing",
                            "approved",
                            "rejected",
                            "closed"
                        ]
                    },
                    "purchase_order_id": {
                        "type": "integer"
                    },
                    "reason": {
                        "type": "string"
                    },
                    "resolution": {
                        "type": "string",
                        "nullable": true
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time"
                    }
                }
            },
            "SavedSearch": {
                "type": "object",
                "required": [
                    "id",
                    "name",
                    "query"
                ],
                "properties": {
                    "id": {
                        "type": "integer"
                    },
                    "name": {
                        "type": "string"
                    },
                    "query": {
                        "type": "object",
                        "additionalProperties": true
                    },
                    "shared": {
                        "type": "boolean"
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time"
                    }
                }
            },
            "SearchResult": {
                "type": "object",
                "required": [
                    "id",
                    "type",
                    "title",
                    "url"
                ],
                "properties": {
                    "id": {
                        "type": "string"
                    },
                    "type": {
                        "type": "string",
                        "description": "Result type identifier (rfq, quote, supplier, purchase_order, etc.)."
                    },
                    "title": {
                        "type": "string"
                    },
                    "subtitle": {
                        "type": "string",
                        "nullable": true
                    },
                    "snippet": {
                        "type": "string",
                        "nullable": true
                    },
                    "url": {
                        "type": "string",
                        "format": "uri"
                    }
                }
            },
            "SuccessEnvelope": {
                "type": "object",
                "required": [
                    "status",
                    "data"
                ],
                "properties": {
                    "status": {
                        "type": "string",
                        "enum": [
                            "success"
                        ]
                    },
                    "message": {
                        "type": "string",
                        "nullable": true
                    },
                    "data": {
                        "description": "Module-specific payload."
                    },
                    "meta": {
                        "$ref": "#/components/schemas/RequestMeta"
                    }
                },
                "additionalProperties": false,
                "description": "Wrapper for all successful responses. `meta.request_id` always echoes the inbound `X-Request-Id` or an internally generated UUID."
            },
            "Supplier": {
                "type": "object",
                "required": [
                    "id",
                    "name"
                ],
                "properties": {
                    "id": {
                        "type": "integer"
                    },
                    "company_id": {
                        "type": "integer"
                    },
                    "name": {
                        "type": "string"
                    },
                    "status": {
                        "type": "string",
                        "description": "Supplier onboarding status."
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time"
                    }
                }
            },
            "SupplierApplication": {
                "type": "object",
                "required": [
                    "id",
                    "supplier_name",
                    "status"
                ],
                "properties": {
                    "id": {
                        "type": "integer"
                    },
                    "supplier_name": {
                        "type": "string"
                    },
                    "status": {
                        "type": "string"
                    },
                    "submitted_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    }
                }
            },
            "TaxCode": {
                "type": "object",
                "required": [
                    "id",
                    "company_id",
                    "code",
                    "name",
                    "type"
                ],
                "properties": {
                    "id": {
                        "type": "integer"
                    },
                    "company_id": {
                        "type": "integer"
                    },
                    "code": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "type": {
                        "type": "string",
                        "enum": [
                            "vat",
                            "gst",
                            "sales",
                            "withholding",
                            "custom"
                        ]
                    },
                    "rate_percent": {
                        "type": "number",
                        "nullable": true
                    },
                    "is_compound": {
                        "type": "boolean"
                    },
                    "active": {
                        "type": "boolean"
                    },
                    "meta": {
                        "type": "object",
                        "additionalProperties": true
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time"
                    }
                }
            },
            "Timeline": {
                "type": "object",
                "properties": {
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "description": "ISO 8601 timestamp in the tenant's configured timezone."
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time",
                        "description": "ISO 8601 timestamp in the tenant's configured timezone."
                    },
                    "deleted_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true,
                        "description": "ISO 8601 timestamp in the tenant's configured timezone."
                    }
                }
            },
            "Uom": {
                "type": "object",
                "required": [
                    "code",
                    "name",
                    "dimension",
                    "symbol",
                    "si_base"
                ],
                "properties": {
                    "code": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "dimension": {
                        "type": "string"
                    },
                    "symbol": {
                        "type": "string",
                        "nullable": true
                    },
                    "si_base": {
                        "type": "boolean"
                    }
                }
            },
            "UomConversion": {
                "type": "object",
                "required": [
                    "from_code",
                    "to_code",
                    "factor"
                ],
                "properties": {
                    "from_code": {
                        "type": "string"
                    },
                    "to_code": {
                        "type": "string"
                    },
                    "factor": {
                        "type": "number",
                        "format": "float"
                    },
                    "offset": {
                        "type": "number",
                        "format": "float",
                        "nullable": true
                    }
                }
            },
            "WebhookDelivery": {
                "type": "object",
                "required": [
                    "id",
                    "subscription_id",
                    "event",
                    "status",
                    "attempts"
                ],
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "subscription_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "company_id": {
                        "type": "integer",
                        "nullable": true
                    },
                    "event": {
                        "type": "string"
                    },
                    "status": {
                        "type": "string",
                        "enum": [
                            "pending",
                            "dispatched",
                            "delivered",
                            "failed",
                            "dead_letter"
                        ]
                    },
                    "attempts": {
                        "type": "integer"
                    },
                    "last_error": {
                        "type": "string",
                        "nullable": true
                    },
                    "dispatched_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "delivered_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time"
                    }
                }
            },
            "WebhookSubscription": {
                "type": "object",
                "required": [
                    "id",
                    "company_id",
                    "url",
                    "events",
                    "active"
                ],
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "company_id": {
                        "type": "integer"
                    },
                    "url": {
                        "type": "string",
                        "format": "uri"
                    },
                    "secret_hint": {
                        "type": "string",
                        "nullable": true
                    },
                    "events": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "active": {
                        "type": "boolean"
                    },
                    "retry_policy": {
                        "type": "object",
                        "additionalProperties": true
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time"
                    }
                }
            }
        },
        "responses": {
            "Forbidden": {
                "description": "Authenticated but lacking required permissions.",
                "headers": {
                    "X-Request-Id": {
                        "$ref": "#/components/headers/XRequestId"
                    }
                },
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "#/components/schemas/ApiErrorResponse"
                        },
                        "example": {
                            "status": "error",
                            "message": "Forbidden.",
                            "data": null
                        }
                    }
                }
            },
            "NotFound": {
                "description": "Resource not found.",
                "headers": {
                    "X-Request-Id": {
                        "$ref": "#/components/headers/XRequestId"
                    }
                },
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "#/components/schemas/ApiErrorResponse"
                        },
                        "example": {
                            "status": "error",
                            "message": "Not found",
                            "data": null
                        }
                    }
                }
            },
            "ServerError": {
                "description": "Unexpected server error. Contact support with the supplied request identifier.",
                "headers": {
                    "X-Request-Id": {
                        "$ref": "#/components/headers/XRequestId"
                    }
                },
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "#/components/schemas/ApiErrorResponse"
                        },
                        "example": {
                            "status": "error",
                            "message": "Unexpected error occurred.",
                            "data": null
                        }
                    }
                }
            },
            "TooManyRequests": {
                "description": "Rate limit exceeded for the current identity.",
                "headers": {
                    "X-Request-Id": {
                        "$ref": "#/components/headers/XRequestId"
                    },
                    "X-RateLimit-Limit": {
                        "$ref": "#/components/headers/XRateLimitLimit"
                    },
                    "X-RateLimit-Remaining": {
                        "$ref": "#/components/headers/XRateLimitRemaining"
                    },
                    "X-RateLimit-Reset": {
                        "$ref": "#/components/headers/XRateLimitReset"
                    }
                },
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "#/components/schemas/ApiErrorResponse"
                        },
                        "example": {
                            "status": "error",
                            "message": "Request limit exceeded, retry later.",
                            "code": "RATE_LIMIT_EXCEEDED",
                            "data": null
                        }
                    }
                }
            },
            "Unauthorized": {
                "description": "Missing or invalid credentials.",
                "headers": {
                    "X-Request-Id": {
                        "$ref": "#/components/headers/XRequestId"
                    }
                },
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "#/components/schemas/ApiErrorResponse"
                        },
                        "example": {
                            "status": "error",
                            "message": "Unauthorized.",
                            "data": null
                        }
                    }
                }
            },
            "ValidationError": {
                "description": "Payload validation failed.",
                "headers": {
                    "X-Request-Id": {
                        "$ref": "#/components/headers/XRequestId"
                    }
                },
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "#/components/schemas/ApiErrorResponse"
                        },
                        "example": {
                            "status": "error",
                            "message": "The given data was invalid.",
                            "errors": {
                                "item_name": [
                                    "The item name field is required."
                                ]
                            },
                            "data": null
                        }
                    }
                }
            }
        }
    },
    "paths": {
        "/api/admin/api-keys": {
            "get": {
                "tags": [
                    "Admin"
                ],
                "summary": "List API keys",
                "operationId": "adminListApiKeys",
                "parameters": [
                    {
                        "name": "company_id",
                        "in": "query",
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Paginated API keys filtered by company when provided.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "type": "object",
                                                    "properties": {
                                                        "items": {
                                                            "type": "array",
                                                            "items": {
                                                                "$ref": "#/components/schemas/ApiKey"
                                                            }
                                                        },
                                                        "meta": {
                                                            "$ref": "#/components/schemas/PageMeta"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Issue API key for company",
                "operationId": "adminCreateApiKey",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "company_id",
                                    "name"
                                ],
                                "properties": {
                                    "company_id": {
                                        "type": "integer"
                                    },
                                    "name": {
                                        "type": "string"
                                    },
                                    "scopes": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    },
                                    "expires_at": {
                                        "type": "string",
                                        "format": "date-time",
                                        "nullable": true
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "API key created. Plaintext secret returned once.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "type": "object",
                                                    "properties": {
                                                        "api_key": {
                                                            "$ref": "#/components/schemas/ApiKey"
                                                        },
                                                        "token": {
                                                            "type": "string",
                                                            "description": "Plaintext API key value. Display once."
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/admin/api-keys/{keyId}": {
            "delete": {
                "tags": [
                    "Admin"
                ],
                "summary": "Delete API key",
                "operationId": "adminDeleteApiKey",
                "parameters": [
                    {
                        "name": "keyId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "API key deleted.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/admin/api-keys/{keyId}/rotate": {
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Rotate API key secret",
                "operationId": "adminRotateApiKey",
                "parameters": [
                    {
                        "name": "keyId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "API key secret rotated. Returns new token.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "type": "object",
                                                    "properties": {
                                                        "api_key": {
                                                            "$ref": "#/components/schemas/ApiKey"
                                                        },
                                                        "token": {
                                                            "type": "string"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/admin/api-keys/{keyId}/toggle": {
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Toggle API key activation",
                "operationId": "adminToggleApiKey",
                "parameters": [
                    {
                        "name": "keyId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "API key status toggled.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/admin/companies/{companyId}/assign-plan": {
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Assign plan to company",
                "operationId": "adminAssignPlan",
                "parameters": [
                    {
                        "name": "companyId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "plan_id"
                                ],
                                "properties": {
                                    "plan_id": {
                                        "type": "integer"
                                    },
                                    "trial_ends_at": {
                                        "type": "string",
                                        "format": "date-time",
                                        "nullable": true
                                    },
                                    "seats_purchased": {
                                        "type": "integer",
                                        "nullable": true
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "202": {
                        "description": "Plan assignment queued.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/admin/companies/{companyId}/feature-flags": {
            "get": {
                "tags": [
                    "Admin"
                ],
                "summary": "List company feature flags",
                "operationId": "adminListFeatureFlags",
                "parameters": [
                    {
                        "name": "companyId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Collection of company-scoped feature toggles.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "type": "object",
                                                    "properties": {
                                                        "items": {
                                                            "type": "array",
                                                            "items": {
                                                                "$ref": "#/components/schemas/FeatureFlag"
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Create feature flag override",
                "operationId": "adminCreateFeatureFlag",
                "parameters": [
                    {
                        "name": "companyId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "key",
                                    "value"
                                ],
                                "properties": {
                                    "key": {
                                        "type": "string"
                                    },
                                    "value": {
                                        "type": "boolean"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Feature flag created.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/admin/companies/{companyId}/feature-flags/{flagId}": {
            "delete": {
                "tags": [
                    "Admin"
                ],
                "summary": "Remove feature flag override",
                "operationId": "adminDeleteFeatureFlag",
                "responses": {
                    "200": {
                        "description": "Feature flag removed.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "companyId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                },
                {
                    "name": "flagId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ],
            "put": {
                "tags": [
                    "Admin"
                ],
                "summary": "Update feature flag override",
                "operationId": "adminUpdateFeatureFlag",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "value": {
                                        "type": "boolean"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Feature flag updated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/admin/companies/{companyId}/status": {
            "put": {
                "tags": [
                    "Admin"
                ],
                "summary": "Update company lifecycle status",
                "operationId": "adminUpdateCompanyStatus",
                "parameters": [
                    {
                        "name": "companyId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "status"
                                ],
                                "properties": {
                                    "status": {
                                        "type": "string",
                                        "enum": [
                                            "pending",
                                            "active",
                                            "suspended",
                                            "archived"
                                        ]
                                    },
                                    "note": {
                                        "type": "string",
                                        "nullable": true
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Company status updated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/admin/health": {
            "get": {
                "tags": [
                    "Admin"
                ],
                "summary": "Platform health summary",
                "operationId": "adminHealthSummary",
                "responses": {
                    "200": {
                        "description": "Platform health metrics.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/AdminHealth"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/admin/plans": {
            "get": {
                "tags": [
                    "Admin"
                ],
                "summary": "List subscription plans",
                "operationId": "adminPlansIndex",
                "responses": {
                    "200": {
                        "description": "Paginated plans configured in the platform.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "type": "object",
                                                    "properties": {
                                                        "items": {
                                                            "type": "array",
                                                            "items": {
                                                                "$ref": "#/components/schemas/Plan"
                                                            }
                                                        },
                                                        "meta": {
                                                            "$ref": "#/components/schemas/PageMeta"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Create subscription plan",
                "operationId": "adminPlansStore",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "code",
                                    "name",
                                    "price_usd"
                                ],
                                "properties": {
                                    "code": {
                                        "type": "string"
                                    },
                                    "name": {
                                        "type": "string"
                                    },
                                    "price_usd": {
                                        "type": "number",
                                        "format": "float"
                                    },
                                    "rfqs_per_month": {
                                        "type": "integer",
                                        "nullable": true
                                    },
                                    "users_max": {
                                        "type": "integer",
                                        "nullable": true
                                    },
                                    "analytics_enabled": {
                                        "type": "boolean"
                                    },
                                    "inventory_enabled": {
                                        "type": "boolean"
                                    },
                                    "multi_currency_enabled": {
                                        "type": "boolean"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Plan created.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/admin/plans/{planId}": {
            "delete": {
                "tags": [
                    "Admin"
                ],
                "summary": "Archive subscription plan",
                "operationId": "adminPlansDestroy",
                "responses": {
                    "204": {
                        "description": "Plan archived. Response body omitted."
                    }
                }
            },
            "get": {
                "tags": [
                    "Admin"
                ],
                "summary": "Retrieve subscription plan",
                "operationId": "adminPlansShow",
                "responses": {
                    "200": {
                        "description": "Subscription plan details.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/Plan"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "planId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ],
            "put": {
                "tags": [
                    "Admin"
                ],
                "summary": "Update subscription plan",
                "operationId": "adminPlansUpdate",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "name": {
                                        "type": "string"
                                    },
                                    "price_usd": {
                                        "type": "number",
                                        "format": "float"
                                    },
                                    "analytics_enabled": {
                                        "type": "boolean"
                                    },
                                    "inventory_enabled": {
                                        "type": "boolean"
                                    },
                                    "multi_currency_enabled": {
                                        "type": "boolean"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Plan updated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/admin/rate-limits": {
            "get": {
                "tags": [
                    "Admin"
                ],
                "summary": "List rate limit rules",
                "operationId": "adminListRateLimits",
                "parameters": [
                    {
                        "name": "company_id",
                        "in": "query",
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "$ref": "#/components/parameters/PageQuery"
                    },
                    {
                        "$ref": "#/components/parameters/PerPageQuery"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Paginated rate limit definitions.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "type": "object",
                                                    "properties": {
                                                        "items": {
                                                            "type": "array",
                                                            "items": {
                                                                "$ref": "#/components/schemas/RateLimitRule"
                                                            }
                                                        },
                                                        "meta": {
                                                            "$ref": "#/components/schemas/PageMeta"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Create rate limit rule",
                "operationId": "adminCreateRateLimit",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "scope",
                                    "window_seconds",
                                    "max_requests"
                                ],
                                "properties": {
                                    "company_id": {
                                        "type": "integer",
                                        "nullable": true
                                    },
                                    "scope": {
                                        "type": "string"
                                    },
                                    "window_seconds": {
                                        "type": "integer"
                                    },
                                    "max_requests": {
                                        "type": "integer"
                                    },
                                    "active": {
                                        "type": "boolean"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Rate limit created.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/admin/rate-limits/{rateLimitId}": {
            "delete": {
                "tags": [
                    "Admin"
                ],
                "summary": "Delete rate limit rule",
                "operationId": "adminDeleteRateLimit",
                "responses": {
                    "200": {
                        "description": "Rate limit removed.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "get": {
                "tags": [
                    "Admin"
                ],
                "summary": "Show rate limit rule",
                "operationId": "adminShowRateLimit",
                "responses": {
                    "200": {
                        "description": "Rate limit rule detail.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/RateLimitRule"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "rateLimitId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ],
            "put": {
                "tags": [
                    "Admin"
                ],
                "summary": "Update rate limit rule",
                "operationId": "adminUpdateRateLimit",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "window_seconds": {
                                        "type": "integer"
                                    },
                                    "max_requests": {
                                        "type": "integer"
                                    },
                                    "active": {
                                        "type": "boolean"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Rate limit updated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/admin/suppliers": {
            "get": {
                "tags": [
                    "Admin"
                ],
                "summary": "List suppliers in admin console",
                "operationId": "adminListSuppliers",
                "responses": {
                    "200": {
                        "description": "Paginated suppliers scoped to current filters.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Create supplier on behalf of tenant",
                "operationId": "adminCreateSupplier",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Supplier created.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/admin/suppliers/{supplierId}": {
            "delete": {
                "tags": [
                    "Admin"
                ],
                "summary": "Archive supplier",
                "operationId": "adminDeleteSupplier",
                "responses": {
                    "200": {
                        "description": "Supplier archived.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "get": {
                "tags": [
                    "Admin"
                ],
                "summary": "Show supplier details in admin console",
                "operationId": "adminShowSupplier",
                "responses": {
                    "200": {
                        "description": "Supplier detail for admin review.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "supplierId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ],
            "patch": {
                "tags": [
                    "Admin"
                ],
                "summary": "Update supplier attributes in admin console",
                "operationId": "adminUpdateSupplier",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Supplier updated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/admin/webhook-deliveries": {
            "get": {
                "tags": [
                    "Webhooks"
                ],
                "summary": "List webhook deliveries",
                "operationId": "adminListWebhookDeliveries",
                "parameters": [
                    {
                        "name": "subscription_id",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "$ref": "#/components/parameters/PageQuery"
                    },
                    {
                        "$ref": "#/components/parameters/PerPageQuery"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Paginated history of webhook delivery attempts.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "type": "object",
                                                    "properties": {
                                                        "items": {
                                                            "type": "array",
                                                            "items": {
                                                                "$ref": "#/components/schemas/WebhookDelivery"
                                                            }
                                                        },
                                                        "meta": {
                                                            "$ref": "#/components/schemas/PageMeta"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/admin/webhook-deliveries/{deliveryId}/retry": {
            "post": {
                "tags": [
                    "Webhooks"
                ],
                "summary": "Retry failed webhook delivery",
                "operationId": "adminRetryWebhookDelivery",
                "parameters": [
                    {
                        "name": "deliveryId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "202": {
                        "description": "Delivery queued for retry.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/admin/webhook-subscriptions": {
            "get": {
                "tags": [
                    "Webhooks"
                ],
                "summary": "List webhook subscriptions",
                "operationId": "adminListWebhookSubscriptions",
                "responses": {
                    "200": {
                        "description": "Paginated webhook subscriptions.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "type": "object",
                                                    "properties": {
                                                        "items": {
                                                            "type": "array",
                                                            "items": {
                                                                "$ref": "#/components/schemas/WebhookSubscription"
                                                            }
                                                        },
                                                        "meta": {
                                                            "$ref": "#/components/schemas/PageMeta"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Webhooks"
                ],
                "summary": "Create webhook subscription",
                "operationId": "adminCreateWebhookSubscription",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "company_id",
                                    "url",
                                    "events"
                                ],
                                "properties": {
                                    "company_id": {
                                        "type": "integer"
                                    },
                                    "url": {
                                        "type": "string",
                                        "format": "uri"
                                    },
                                    "secret": {
                                        "type": "string"
                                    },
                                    "events": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    },
                                    "active": {
                                        "type": "boolean"
                                    },
                                    "retry_policy": {
                                        "type": "object",
                                        "additionalProperties": true
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Webhook subscription created.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/admin/webhook-subscriptions/{subscriptionId}": {
            "delete": {
                "tags": [
                    "Webhooks"
                ],
                "summary": "Remove webhook subscription",
                "operationId": "adminDeleteWebhookSubscription",
                "responses": {
                    "200": {
                        "description": "Webhook subscription removed.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "get": {
                "tags": [
                    "Webhooks"
                ],
                "summary": "Retrieve webhook subscription",
                "operationId": "adminShowWebhookSubscription",
                "responses": {
                    "200": {
                        "description": "Webhook subscription detail.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/WebhookSubscription"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "subscriptionId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "string",
                        "format": "uuid"
                    }
                }
            ],
            "put": {
                "tags": [
                    "Webhooks"
                ],
                "summary": "Update webhook subscription",
                "operationId": "adminUpdateWebhookSubscription",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "url": {
                                        "type": "string",
                                        "format": "uri"
                                    },
                                    "events": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    },
                                    "active": {
                                        "type": "boolean"
                                    },
                                    "retry_policy": {
                                        "type": "object",
                                        "additionalProperties": true
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Webhook subscription updated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/analytics/generate": {
            "post": {
                "tags": [
                    "Analytics"
                ],
                "summary": "Generate ad-hoc analytics export",
                "operationId": "analyticsGenerate",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "202": {
                        "description": "Analytics generation queued.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/analytics/overview": {
            "get": {
                "tags": [
                    "Analytics"
                ],
                "summary": "Fetch analytics overview dashboard",
                "operationId": "analyticsOverview",
                "responses": {
                    "200": {
                        "description": "Aggregate metrics for the analytics overview screen.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/analytics/reports": {
            "get": {
                "tags": [
                    "Analytics"
                ],
                "summary": "List analytics reports",
                "operationId": "listAnalyticsReports",
                "responses": {
                    "200": {
                        "description": "Available analytics reports for the current plan.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/analytics/reports/{reportKey}": {
            "get": {
                "tags": [
                    "Analytics"
                ],
                "summary": "Show report configuration",
                "operationId": "showAnalyticsReport",
                "responses": {
                    "200": {
                        "description": "Report definition including filters.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "reportKey",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "string"
                    }
                }
            ]
        },
        "/api/analytics/reports/{reportKey}/run": {
            "parameters": [
                {
                    "name": "reportKey",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "string"
                    }
                }
            ],
            "post": {
                "tags": [
                    "Analytics"
                ],
                "summary": "Run analytics report",
                "operationId": "runAnalyticsReport",
                "requestBody": {
                    "required": false,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "202": {
                        "description": "Report execution queued.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/approvals/delegations": {
            "get": {
                "tags": [
                    "Approvals"
                ],
                "summary": "List approval delegations",
                "operationId": "listApprovalDelegations",
                "responses": {
                    "200": {
                        "description": "Active approval delegation rules.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Approvals"
                ],
                "summary": "Create approval delegation",
                "operationId": "createApprovalDelegation",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Approval delegation created.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/approvals/delegations/{delegationId}": {
            "delete": {
                "tags": [
                    "Approvals"
                ],
                "summary": "Delete approval delegation",
                "operationId": "deleteApprovalDelegation",
                "responses": {
                    "200": {
                        "description": "Approval delegation removed.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "delegationId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ],
            "put": {
                "tags": [
                    "Approvals"
                ],
                "summary": "Update approval delegation",
                "operationId": "updateApprovalDelegation",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Approval delegation updated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/approvals/requests": {
            "get": {
                "tags": [
                    "Approvals"
                ],
                "summary": "List approval requests",
                "operationId": "listApprovalRequests",
                "responses": {
                    "200": {
                        "description": "Pending approval requests.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/approvals/requests/{approvalId}": {
            "get": {
                "tags": [
                    "Approvals"
                ],
                "summary": "Show approval request",
                "operationId": "showApprovalRequest",
                "responses": {
                    "200": {
                        "description": "Approval request detail.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "approvalId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ]
        },
        "/api/approvals/requests/{approvalId}/action": {
            "parameters": [
                {
                    "name": "approvalId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ],
            "post": {
                "tags": [
                    "Approvals"
                ],
                "summary": "Take action on approval request",
                "operationId": "actOnApprovalRequest",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Approval decision recorded.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/approvals/rules": {
            "get": {
                "tags": [
                    "Approvals"
                ],
                "summary": "List approval rules",
                "operationId": "listApprovalRules",
                "responses": {
                    "200": {
                        "description": "Approval rules configured for the tenant.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Approvals"
                ],
                "summary": "Create approval rule",
                "operationId": "createApprovalRule",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Approval rule created.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/approvals/rules/{ruleId}": {
            "delete": {
                "tags": [
                    "Approvals"
                ],
                "summary": "Delete approval rule",
                "operationId": "deleteApprovalRule",
                "responses": {
                    "200": {
                        "description": "Approval rule removed.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "get": {
                "tags": [
                    "Approvals"
                ],
                "summary": "Show approval rule",
                "operationId": "showApprovalRule",
                "responses": {
                    "200": {
                        "description": "Approval rule detail.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "ruleId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ],
            "put": {
                "tags": [
                    "Approvals"
                ],
                "summary": "Update approval rule",
                "operationId": "updateApprovalRule",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Approval rule updated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/change-orders/{changeOrderId}/approve": {
            "put": {
                "tags": [
                    "Purchase Orders"
                ],
                "summary": "Approve change order",
                "operationId": "approvePurchaseOrderChangeOrder",
                "parameters": [
                    {
                        "name": "changeOrderId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Change order approved and applied.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/change-orders/{changeOrderId}/reject": {
            "put": {
                "tags": [
                    "Purchase Orders"
                ],
                "summary": "Reject change order",
                "operationId": "rejectPurchaseOrderChangeOrder",
                "parameters": [
                    {
                        "name": "changeOrderId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Change order rejected.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/companies": {
            "post": {
                "tags": [
                    "Companies"
                ],
                "summary": "Register company and request onboarding",
                "operationId": "registerCompany",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "name",
                                    "country",
                                    "primary_contact_name",
                                    "primary_contact_email"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string"
                                    },
                                    "country": {
                                        "type": "string"
                                    },
                                    "primary_contact_name": {
                                        "type": "string"
                                    },
                                    "primary_contact_email": {
                                        "type": "string",
                                        "format": "email"
                                    },
                                    "primary_contact_phone": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "website": {
                                        "type": "string",
                                        "format": "uri",
                                        "nullable": true
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Company onboarding request accepted.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "type": "object",
                                                    "properties": {
                                                        "company": {
                                                            "$ref": "#/components/schemas/CompanyProfile"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/companies/current": {
            "get": {
                "tags": [
                    "Companies"
                ],
                "summary": "Retrieve profile for authenticated company",
                "operationId": "showCurrentCompany",
                "responses": {
                    "200": {
                        "description": "Current tenant company profile.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "type": "object",
                                                    "properties": {
                                                        "company": {
                                                            "$ref": "#/components/schemas/CompanyProfile"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "patch": {
                "tags": [
                    "Companies"
                ],
                "summary": "Update profile for authenticated company",
                "operationId": "updateCurrentCompany",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Current company updated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/companies/{companyId}": {
            "get": {
                "tags": [
                    "Companies"
                ],
                "summary": "Retrieve company profile",
                "operationId": "showCompany",
                "responses": {
                    "200": {
                        "description": "Company profile visible to the authenticated tenant.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "type": "object",
                                                    "properties": {
                                                        "company": {
                                                            "$ref": "#/components/schemas/CompanyProfile"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "companyId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ],
            "put": {
                "tags": [
                    "Companies"
                ],
                "summary": "Update company profile",
                "operationId": "updateCompany",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "name": {
                                        "type": "string"
                                    },
                                    "registration_no": {
                                        "type": "string"
                                    },
                                    "tax_id": {
                                        "type": "string"
                                    },
                                    "country": {
                                        "type": "string"
                                    },
                                    "email_domain": {
                                        "type": "string"
                                    },
                                    "primary_contact_name": {
                                        "type": "string"
                                    },
                                    "primary_contact_email": {
                                        "type": "string",
                                        "format": "email"
                                    },
                                    "primary_contact_phone": {
                                        "type": "string"
                                    },
                                    "address": {
                                        "type": "string"
                                    },
                                    "phone": {
                                        "type": "string"
                                    },
                                    "website": {
                                        "type": "string",
                                        "format": "uri"
                                    },
                                    "region": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Company profile updated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/companies/{companyId}/documents": {
            "get": {
                "tags": [
                    "Companies"
                ],
                "summary": "List company documents",
                "operationId": "listCompanyDocuments",
                "responses": {
                    "200": {
                        "description": "Documents associated with the company.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "companyId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ],
            "post": {
                "tags": [
                    "Companies"
                ],
                "summary": "Upload company document",
                "operationId": "createCompanyDocument",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "file"
                                ],
                                "properties": {
                                    "file": {
                                        "type": "string",
                                        "format": "binary"
                                    },
                                    "label": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Company document stored.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/companies/{companyId}/documents/{documentId}": {
            "delete": {
                "tags": [
                    "Companies"
                ],
                "summary": "Delete company document",
                "operationId": "deleteCompanyDocument",
                "responses": {
                    "200": {
                        "description": "Company document removed.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "companyId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                },
                {
                    "name": "documentId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ]
        },
        "/api/copilot/analytics": {
            "post": {
                "tags": [
                    "Copilot"
                ],
                "summary": "Generate analytics insight via Copilot",
                "operationId": "copilotAnalytics",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Analytics insight with supporting narrative.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/copilot/chat/completions": {
            "post": {
                "tags": [
                    "Copilot"
                ],
                "summary": "Stream structured copilot response",
                "operationId": "copilotChatCompletion",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Copilot generated completion payload.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/copilot/prompts": {
            "get": {
                "tags": [
                    "Copilot"
                ],
                "summary": "List available copilot prompts",
                "operationId": "listCopilotPrompts",
                "responses": {
                    "200": {
                        "description": "Copilot prompt catalog.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/credit-notes": {
            "get": {
                "tags": [
                    "Credit Notes"
                ],
                "summary": "List credit notes for tenant",
                "operationId": "listCreditNotes",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/PageQuery"
                    },
                    {
                        "$ref": "#/components/parameters/PerPageQuery"
                    },
                    {
                        "name": "status",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "draft",
                                "pending_review",
                                "issued",
                                "approved",
                                "rejected"
                            ]
                        }
                    },
                    {
                        "name": "invoice_id",
                        "in": "query",
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "created_from",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "format": "date"
                        }
                    },
                    {
                        "name": "created_to",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "format": "date"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Paginated credit notes scoped to the current company.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/CreditNoteCollection"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/credit-notes/invoices/{invoiceId}": {
            "post": {
                "tags": [
                    "Credit Notes"
                ],
                "summary": "Draft credit note from invoice",
                "operationId": "createCreditNote",
                "parameters": [
                    {
                        "name": "invoiceId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "reason",
                                    "amount_minor"
                                ],
                                "properties": {
                                    "reason": {
                                        "type": "string"
                                    },
                                    "amount_minor": {
                                        "type": "integer"
                                    },
                                    "attachments": {
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Credit note created in draft state.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/credit-notes/{creditNoteId}": {
            "get": {
                "tags": [
                    "Credit Notes"
                ],
                "summary": "Retrieve credit note",
                "operationId": "showCreditNote",
                "responses": {
                    "200": {
                        "description": "Credit note detail with invoice linkage.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/CreditNote"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "creditNoteId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "string",
                        "format": "uuid"
                    }
                }
            ]
        },
        "/api/credit-notes/{creditNoteId}/approve": {
            "post": {
                "tags": [
                    "Credit Notes"
                ],
                "summary": "Approve or reject credit note",
                "operationId": "approveCreditNote",
                "parameters": [
                    {
                        "name": "creditNoteId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "decision"
                                ],
                                "properties": {
                                    "decision": {
                                        "type": "string",
                                        "enum": [
                                            "approve",
                                            "reject"
                                        ]
                                    },
                                    "comment": {
                                        "type": "string",
                                        "nullable": true
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Credit note review captured.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/credit-notes/{creditNoteId}/issue": {
            "post": {
                "tags": [
                    "Credit Notes"
                ],
                "summary": "Issue credit note to supplier",
                "operationId": "issueCreditNote",
                "parameters": [
                    {
                        "name": "creditNoteId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Credit note marked as issued.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/credit-notes/{creditNoteId}/recalculate": {
            "post": {
                "tags": [
                    "Money"
                ],
                "summary": "Recalculate credit note totals",
                "operationId": "recalcCreditNoteTotals",
                "parameters": [
                    {
                        "name": "creditNoteId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Credit note totals recalculated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/crm/export-preview": {
            "get": {
                "tags": [
                    "CRM"
                ],
                "summary": "Preview CRM export payload",
                "operationId": "crmExportPreview",
                "responses": {
                    "200": {
                        "description": "Preview of CRM export in JSON form.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "CRM"
                ],
                "summary": "Generate CRM export preview with filters",
                "operationId": "crmExportPreviewFilter",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Filtered CRM export preview.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/dashboard/metrics": {
            "get": {
                "tags": [
                    "Analytics"
                ],
                "summary": "Retrieve dashboard KPI metrics",
                "description": "Returns key sourcing and downstream execution counts for the authenticated company. Requires analytics plan access.",
                "operationId": "getDashboardMetrics",
                "responses": {
                    "200": {
                        "description": "Dashboard metric counts for the current company.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/DashboardMetrics"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "402": {
                        "description": "Analytics plan required.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiErrorResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/digital-twin/assets": {
            "get": {
                "tags": [
                    "Digital Twin"
                ],
                "summary": "List registered digital twin assets",
                "operationId": "listDigitalTwinAssets",
                "responses": {
                    "200": {
                        "description": "Paginated assets for the tenant.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Digital Twin"
                ],
                "summary": "Create digital twin asset",
                "operationId": "createDigitalTwinAsset",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Asset created.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/digital-twin/assets/{assetId}": {
            "delete": {
                "tags": [
                    "Digital Twin"
                ],
                "summary": "Delete digital twin asset",
                "operationId": "deleteDigitalTwinAsset",
                "responses": {
                    "200": {
                        "description": "Asset deleted.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "get": {
                "tags": [
                    "Digital Twin"
                ],
                "summary": "Show digital twin asset",
                "operationId": "showDigitalTwinAsset",
                "responses": {
                    "200": {
                        "description": "Asset details with status telemetry.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "assetId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ],
            "patch": {
                "tags": [
                    "Digital Twin"
                ],
                "summary": "Partially update digital twin asset",
                "operationId": "patchDigitalTwinAsset",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Asset updated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "Digital Twin"
                ],
                "summary": "Replace digital twin asset",
                "operationId": "updateDigitalTwinAsset",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Asset updated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/digital-twin/assets/{assetId}/bom": {
            "parameters": [
                {
                    "name": "assetId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ],
            "put": {
                "tags": [
                    "Digital Twin"
                ],
                "summary": "Sync asset bill of materials",
                "operationId": "syncDigitalTwinAssetBom",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Asset BOM synchronized.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/digital-twin/assets/{assetId}/procedures/{procedureId}": {
            "delete": {
                "tags": [
                    "Digital Twin"
                ],
                "summary": "Detach maintenance procedure from asset",
                "operationId": "detachDigitalTwinProcedure",
                "responses": {
                    "200": {
                        "description": "Procedure detached from asset.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "assetId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                },
                {
                    "name": "procedureId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ],
            "put": {
                "tags": [
                    "Digital Twin"
                ],
                "summary": "Link maintenance procedure to asset",
                "operationId": "linkDigitalTwinProcedure",
                "responses": {
                    "200": {
                        "description": "Procedure linked to asset.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/digital-twin/assets/{assetId}/procedures/{procedureId}/complete": {
            "parameters": [
                {
                    "name": "assetId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                },
                {
                    "name": "procedureId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ],
            "post": {
                "tags": [
                    "Digital Twin"
                ],
                "summary": "Complete maintenance procedure for asset",
                "operationId": "completeDigitalTwinProcedure",
                "responses": {
                    "200": {
                        "description": "Procedure completion recorded.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/digital-twin/assets/{assetId}/status": {
            "parameters": [
                {
                    "name": "assetId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ],
            "patch": {
                "tags": [
                    "Digital Twin"
                ],
                "summary": "Update asset operational status",
                "operationId": "updateDigitalTwinAssetStatus",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Asset status updated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/digital-twin/assets/{assetId}/sync": {
            "parameters": [
                {
                    "name": "assetId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ],
            "post": {
                "tags": [
                    "Digital Twin"
                ],
                "summary": "Trigger asset synchronization",
                "operationId": "syncDigitalTwinAsset",
                "responses": {
                    "202": {
                        "description": "Synchronization job queued.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/digital-twin/assets/{assetId}/work-orders": {
            "parameters": [
                {
                    "name": "assetId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ],
            "post": {
                "tags": [
                    "Digital Twin"
                ],
                "summary": "Create work order for asset",
                "operationId": "createDigitalTwinWorkOrder",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Work order created.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/digital-twin/locations": {
            "get": {
                "tags": [
                    "Digital Twin"
                ],
                "summary": "List digital twin locations",
                "operationId": "listDigitalTwinLocations",
                "responses": {
                    "200": {
                        "description": "Locations in the digital twin module.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Digital Twin"
                ],
                "summary": "Create digital twin location",
                "operationId": "createDigitalTwinLocation",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Location created.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/digital-twin/locations/{locationId}": {
            "delete": {
                "tags": [
                    "Digital Twin"
                ],
                "summary": "Delete digital twin location",
                "operationId": "deleteDigitalTwinLocation",
                "responses": {
                    "200": {
                        "description": "Location deleted.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "get": {
                "tags": [
                    "Digital Twin"
                ],
                "summary": "Show digital twin location",
                "operationId": "showDigitalTwinLocation",
                "responses": {
                    "200": {
                        "description": "Location details.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "locationId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ],
            "patch": {
                "tags": [
                    "Digital Twin"
                ],
                "summary": "Partially update digital twin location",
                "operationId": "patchDigitalTwinLocation",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Location updated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "Digital Twin"
                ],
                "summary": "Replace digital twin location",
                "operationId": "updateDigitalTwinLocation",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Location updated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/digital-twin/procedures": {
            "get": {
                "tags": [
                    "Digital Twin"
                ],
                "summary": "List maintenance procedures",
                "operationId": "listDigitalTwinProcedures",
                "responses": {
                    "200": {
                        "description": "Maintenance procedures configured for the tenant.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Digital Twin"
                ],
                "summary": "Create maintenance procedure",
                "operationId": "createDigitalTwinProcedure",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Procedure created.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/digital-twin/procedures/{procedureId}": {
            "delete": {
                "tags": [
                    "Digital Twin"
                ],
                "summary": "Delete maintenance procedure",
                "operationId": "deleteDigitalTwinProcedure",
                "responses": {
                    "200": {
                        "description": "Procedure deleted.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "get": {
                "tags": [
                    "Digital Twin"
                ],
                "summary": "Show maintenance procedure",
                "operationId": "showDigitalTwinProcedure",
                "responses": {
                    "200": {
                        "description": "Procedure details.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "procedureId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ],
            "patch": {
                "tags": [
                    "Digital Twin"
                ],
                "summary": "Partially update maintenance procedure",
                "operationId": "patchDigitalTwinProcedure",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Procedure updated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "Digital Twin"
                ],
                "summary": "Replace maintenance procedure",
                "operationId": "updateDigitalTwinProcedure",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Procedure updated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/digital-twin/systems": {
            "get": {
                "tags": [
                    "Digital Twin"
                ],
                "summary": "List digital twin systems",
                "operationId": "listDigitalTwinSystems",
                "responses": {
                    "200": {
                        "description": "Systems registered in the digital twin module.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Digital Twin"
                ],
                "summary": "Create digital twin system",
                "operationId": "createDigitalTwinSystem",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "System created.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/digital-twin/systems/{systemId}": {
            "delete": {
                "tags": [
                    "Digital Twin"
                ],
                "summary": "Delete digital twin system",
                "operationId": "deleteDigitalTwinSystem",
                "responses": {
                    "200": {
                        "description": "System deleted.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "get": {
                "tags": [
                    "Digital Twin"
                ],
                "summary": "Show digital twin system",
                "operationId": "showDigitalTwinSystem",
                "responses": {
                    "200": {
                        "description": "System details.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "systemId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ],
            "patch": {
                "tags": [
                    "Digital Twin"
                ],
                "summary": "Partially update digital twin system",
                "operationId": "patchDigitalTwinSystem",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "System updated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "Digital Twin"
                ],
                "summary": "Replace digital twin system",
                "operationId": "updateDigitalTwinSystem",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "System updated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/docs/openapi.json": {
            "get": {
                "tags": [
                    "Health"
                ],
                "summary": "Download compiled OpenAPI document",
                "description": "Returns the compiled OpenAPI JSON artifact produced by the `api:spec:build` command.",
                "operationId": "downloadOpenApi",
                "security": [],
                "responses": {
                    "200": {
                        "description": "OpenAPI document.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                },
                                "examples": {
                                    "reference": {
                                        "summary": "Fragment of the OpenAPI document",
                                        "value": {
                                            "openapi": "3.1.0",
                                            "info": {
                                                "title": "Elements Supply API",
                                                "version": "2025.11.0"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "No compiled document found.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiErrorResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/docs/postman.json": {
            "get": {
                "tags": [
                    "Health"
                ],
                "summary": "Download Postman collection",
                "description": "Returns the Postman collection generated from the compiled OpenAPI document.",
                "operationId": "downloadPostmanCollection",
                "security": [],
                "responses": {
                    "200": {
                        "description": "Postman v2.1 collection file.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                },
                                "examples": {
                                    "metadata": {
                                        "summary": "Example collection info",
                                        "value": {
                                            "info": {
                                                "name": "Elements Supply API",
                                                "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "No generated Postman collection found.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiErrorResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/documents": {
            "post": {
                "tags": [
                    "Documents"
                ],
                "summary": "Persist document to entity",
                "operationId": "storeDocument",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "file",
                                    "documentable_type",
                                    "documentable_id"
                                ],
                                "properties": {
                                    "file": {
                                        "type": "string",
                                        "format": "binary"
                                    },
                                    "documentable_type": {
                                        "type": "string"
                                    },
                                    "documentable_id": {
                                        "type": "integer"
                                    },
                                    "label": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Document stored and linked to record.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/exports": {
            "get": {
                "tags": [
                    "Exports"
                ],
                "summary": "List export requests",
                "operationId": "listExportRequests",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/PageQuery"
                    },
                    {
                        "$ref": "#/components/parameters/PerPageQuery"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Paginated export requests for the current company.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "type": "object",
                                                    "required": [
                                                        "items",
                                                        "meta"
                                                    ],
                                                    "properties": {
                                                        "items": {
                                                            "type": "array",
                                                            "items": {
                                                                "$ref": "#/components/schemas/ExportRequest"
                                                            }
                                                        },
                                                        "meta": {
                                                            "$ref": "#/components/schemas/PageMeta"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Exports"
                ],
                "summary": "Queue export request",
                "operationId": "createExportRequest",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "type"
                                ],
                                "properties": {
                                    "type": {
                                        "type": "string",
                                        "description": "Export type key (e.g. `orders`, `invoices`)."
                                    },
                                    "filters": {
                                        "type": "object",
                                        "additionalProperties": true
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Export request queued.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/ExportRequest"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/exports/{exportRequestId}": {
            "get": {
                "tags": [
                    "Exports"
                ],
                "summary": "Retrieve export request",
                "operationId": "showExportRequest",
                "responses": {
                    "200": {
                        "description": "Export request details.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/ExportRequest"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "exportRequestId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ]
        },
        "/api/exports/{exportRequestId}/download": {
            "get": {
                "tags": [
                    "Exports"
                ],
                "summary": "Download export artifact",
                "operationId": "downloadExport",
                "parameters": [
                    {
                        "name": "signature",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Export zip archive.",
                        "content": {
                            "application/zip": {
                                "schema": {
                                    "type": "string",
                                    "format": "binary"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "Export not ready.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiErrorResponse"
                                }
                            }
                        }
                    },
                    "410": {
                        "description": "Export has expired.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiErrorResponse"
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "exportRequestId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ]
        },
        "/api/files/attachments/{quoteId}": {
            "get": {
                "tags": [
                    "Documents"
                ],
                "summary": "Download quote attachments archive",
                "operationId": "downloadQuoteAttachments",
                "responses": {
                    "200": {
                        "description": "Consolidated quote attachments.",
                        "content": {
                            "application/zip": {
                                "schema": {
                                    "type": "string",
                                    "format": "binary"
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "quoteId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ]
        },
        "/api/files/cad/{rfqId}": {
            "get": {
                "tags": [
                    "Documents"
                ],
                "summary": "Download RFQ CAD package",
                "operationId": "downloadRfqCad",
                "responses": {
                    "200": {
                        "description": "CAD archive for the RFQ.",
                        "content": {
                            "application/zip": {
                                "schema": {
                                    "type": "string",
                                    "format": "binary"
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "rfqId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ]
        },
        "/api/files/upload": {
            "post": {
                "tags": [
                    "Documents"
                ],
                "summary": "Upload file to temporary storage",
                "operationId": "uploadFile",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "file"
                                ],
                                "properties": {
                                    "file": {
                                        "type": "string",
                                        "format": "binary"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "File uploaded and staged.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/health": {
            "get": {
                "tags": [
                    "Health"
                ],
                "summary": "API health check",
                "operationId": "getHealth",
                "security": [],
                "responses": {
                    "200": {
                        "description": "Current API health information.",
                        "headers": {
                            "X-Request-Id": {
                                "$ref": "#/components/headers/XRequestId"
                            }
                        },
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "required": [
                                                "data"
                                            ],
                                            "properties": {
                                                "data": {
                                                    "type": "object",
                                                    "required": [
                                                        "healthy",
                                                        "app",
                                                        "env",
                                                        "debug"
                                                    ],
                                                    "properties": {
                                                        "healthy": {
                                                            "type": "boolean"
                                                        },
                                                        "app": {
                                                            "type": "string"
                                                        },
                                                        "env": {
                                                            "type": "string"
                                                        },
                                                        "debug": {
                                                            "type": "boolean"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                },
                                "examples": {
                                    "default": {
                                        "summary": "Healthy response",
                                        "value": {
                                            "status": "success",
                                            "message": null,
                                            "data": {
                                                "healthy": true,
                                                "app": "Elements Supply",
                                                "env": "staging",
                                                "debug": false
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/invitations": {
            "get": {
                "tags": [
                    "Companies"
                ],
                "summary": "List pending invitations for current company",
                "operationId": "listInvitations",
                "responses": {
                    "200": {
                        "description": "Invitations collection.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Companies"
                ],
                "summary": "Invite user to company",
                "operationId": "createInvitation",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Invitation created.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/invitations/{token}": {
            "delete": {
                "tags": [
                    "Companies"
                ],
                "summary": "Revoke invitation by token",
                "operationId": "deleteInvitation",
                "responses": {
                    "200": {
                        "description": "Invitation revoked.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "get": {
                "tags": [
                    "Companies"
                ],
                "summary": "Show invitation by token",
                "operationId": "showInvitation",
                "responses": {
                    "200": {
                        "description": "Invitation details.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "token",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "string"
                    }
                }
            ]
        },
        "/api/invoices/{invoiceId}": {
            "delete": {
                "tags": [
                    "Invoices"
                ],
                "summary": "Delete invoice",
                "operationId": "deleteInvoice",
                "responses": {
                    "200": {
                        "description": "Invoice deleted.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "get": {
                "tags": [
                    "Invoices"
                ],
                "summary": "Retrieve invoice",
                "operationId": "showInvoice",
                "responses": {
                    "200": {
                        "description": "Invoice details.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/Invoice"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/NotFound"
                    }
                }
            },
            "parameters": [
                {
                    "name": "invoiceId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "string",
                        "format": "uuid"
                    }
                }
            ],
            "put": {
                "tags": [
                    "Invoices"
                ],
                "summary": "Update invoice metadata",
                "operationId": "updateInvoice",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "invoice_number": {
                                        "type": "string"
                                    },
                                    "status": {
                                        "type": "string"
                                    },
                                    "subtotal": {
                                        "type": "number",
                                        "format": "float"
                                    },
                                    "tax_amount": {
                                        "type": "number",
                                        "format": "float"
                                    },
                                    "total": {
                                        "type": "number",
                                        "format": "float"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Invoice updated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/invoices/{invoiceId}/recalculate": {
            "post": {
                "tags": [
                    "Money"
                ],
                "summary": "Recalculate invoice totals",
                "operationId": "recalcInvoiceTotals",
                "parameters": [
                    {
                        "name": "invoiceId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Invoice totals recalculated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/localization/parts/{partId}/convert": {
            "get": {
                "tags": [
                    "Localization"
                ],
                "summary": "Convert quantity using part base unit",
                "operationId": "convertQuantityForPart",
                "parameters": [
                    {
                        "name": "partId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "qty",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "number"
                        }
                    },
                    {
                        "name": "from",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "to",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Conversion result for part.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "type": "object",
                                                    "required": [
                                                        "qty_converted",
                                                        "base_qty",
                                                        "base_uom"
                                                    ],
                                                    "properties": {
                                                        "qty_converted": {
                                                            "type": "string"
                                                        },
                                                        "base_qty": {
                                                            "type": "string"
                                                        },
                                                        "base_uom": {
                                                            "type": "string"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/localization/settings": {
            "get": {
                "tags": [
                    "Localization"
                ],
                "summary": "Retrieve locale settings",
                "operationId": "showLocaleSettings",
                "responses": {
                    "200": {
                        "description": "Current locale configuration for the company.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/LocaleSetting"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "Localization"
                ],
                "summary": "Update locale settings",
                "operationId": "updateLocaleSettings",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/LocaleSetting"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Locale settings updated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/localization/uom/convert": {
            "post": {
                "tags": [
                    "Localization"
                ],
                "summary": "Convert quantity between units",
                "operationId": "convertQuantity",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "qty",
                                    "from_code",
                                    "to_code"
                                ],
                                "properties": {
                                    "qty": {
                                        "type": "number"
                                    },
                                    "from_code": {
                                        "type": "string"
                                    },
                                    "to_code": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Converted quantity.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "type": "object",
                                                    "required": [
                                                        "qty_converted"
                                                    ],
                                                    "properties": {
                                                        "qty_converted": {
                                                            "type": "string"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/localization/uoms": {
            "get": {
                "tags": [
                    "Localization"
                ],
                "summary": "List units of measure",
                "operationId": "listUoms",
                "parameters": [
                    {
                        "name": "dimension",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Available units of measure.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "type": "object",
                                                    "required": [
                                                        "items",
                                                        "meta"
                                                    ],
                                                    "properties": {
                                                        "items": {
                                                            "type": "array",
                                                            "items": {
                                                                "$ref": "#/components/schemas/Uom"
                                                            }
                                                        },
                                                        "meta": {
                                                            "type": "object",
                                                            "properties": {
                                                                "total": {
                                                                    "type": "integer"
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Localization"
                ],
                "summary": "Create unit of measure",
                "operationId": "createUom",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/Uom"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Unit created.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/localization/uoms/conversions": {
            "get": {
                "tags": [
                    "Localization"
                ],
                "summary": "List unit conversions",
                "operationId": "listUomConversions",
                "parameters": [
                    {
                        "name": "from_code",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "to_code",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "dimension",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Mapping of conversions.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "type": "object",
                                                    "properties": {
                                                        "items": {
                                                            "type": "array",
                                                            "items": {
                                                                "$ref": "#/components/schemas/UomConversion"
                                                            }
                                                        },
                                                        "meta": {
                                                            "type": "object",
                                                            "properties": {
                                                                "total": {
                                                                    "type": "integer"
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Localization"
                ],
                "summary": "Upsert unit conversion",
                "operationId": "upsertUomConversion",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "from_code",
                                    "to_code",
                                    "factor"
                                ],
                                "properties": {
                                    "from_code": {
                                        "type": "string"
                                    },
                                    "to_code": {
                                        "type": "string"
                                    },
                                    "factor": {
                                        "type": "number"
                                    },
                                    "offset": {
                                        "type": "number",
                                        "nullable": true
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Conversion saved.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/localization/uoms/{uomCode}": {
            "delete": {
                "tags": [
                    "Localization"
                ],
                "summary": "Delete unit of measure",
                "operationId": "deleteUom",
                "responses": {
                    "200": {
                        "description": "Unit deleted.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "uomCode",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "string"
                    }
                }
            ],
            "put": {
                "tags": [
                    "Localization"
                ],
                "summary": "Update unit of measure",
                "operationId": "updateUom",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/Uom"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Unit updated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/me/supplier-application/status": {
            "get": {
                "tags": [
                    "Suppliers"
                ],
                "summary": "Get supplier self-service application status",
                "operationId": "showSelfServiceSupplierApplicationStatus",
                "responses": {
                    "200": {
                        "description": "Current status for the authenticated user's company application.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/me/supplier/visibility": {
            "put": {
                "tags": [
                    "Suppliers"
                ],
                "summary": "Update supplier directory visibility",
                "operationId": "updateSupplierVisibility",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Visibility updated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/money/fx": {
            "get": {
                "tags": [
                    "Money"
                ],
                "summary": "List FX rates",
                "operationId": "listFxRates",
                "parameters": [
                    {
                        "name": "base_code",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "quote_code",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "as_of",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "format": "date"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Paginated FX rates.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "type": "object",
                                                    "properties": {
                                                        "items": {
                                                            "type": "array",
                                                            "items": {
                                                                "$ref": "#/components/schemas/FxRate"
                                                            }
                                                        },
                                                        "meta": {
                                                            "$ref": "#/components/schemas/PageMeta"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Money"
                ],
                "summary": "Upsert FX rates",
                "operationId": "upsertFxRates",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "rows"
                                ],
                                "properties": {
                                    "rows": {
                                        "type": "array",
                                        "items": {
                                            "type": "object",
                                            "required": [
                                                "base_code",
                                                "quote_code",
                                                "rate",
                                                "as_of"
                                            ],
                                            "properties": {
                                                "base_code": {
                                                    "type": "string"
                                                },
                                                "quote_code": {
                                                    "type": "string"
                                                },
                                                "rate": {
                                                    "type": "number"
                                                },
                                                "as_of": {
                                                    "type": "string",
                                                    "format": "date"
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "FX rates updated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/money/settings": {
            "get": {
                "tags": [
                    "Money"
                ],
                "summary": "Retrieve money settings",
                "operationId": "showMoneySettings",
                "responses": {
                    "200": {
                        "description": "Money settings for the company.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/MoneySettings"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "Money"
                ],
                "summary": "Update money settings",
                "operationId": "updateMoneySettings",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "base_currency": {
                                        "type": "string"
                                    },
                                    "pricing_currency": {
                                        "type": "string"
                                    },
                                    "fx_source": {
                                        "type": "string"
                                    },
                                    "price_round_rule": {
                                        "type": "string"
                                    },
                                    "tax_regime": {
                                        "type": "string"
                                    },
                                    "defaults": {
                                        "type": "object",
                                        "additionalProperties": true
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Money settings updated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/money/tax-codes": {
            "get": {
                "tags": [
                    "Money"
                ],
                "summary": "List tax codes",
                "operationId": "listTaxCodes",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/CursorQuery"
                    },
                    {
                        "name": "search",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "active",
                        "in": "query",
                        "schema": {
                            "type": "boolean"
                        }
                    },
                    {
                        "name": "type",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Cursor paginated tax codes.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "type": "object",
                                                    "properties": {
                                                        "items": {
                                                            "type": "array",
                                                            "items": {
                                                                "$ref": "#/components/schemas/TaxCode"
                                                            }
                                                        }
                                                    }
                                                },
                                                "meta": {
                                                    "$ref": "#/components/schemas/CursorMeta"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Money"
                ],
                "summary": "Create tax code",
                "operationId": "createTaxCode",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "code",
                                    "name",
                                    "type"
                                ],
                                "properties": {
                                    "code": {
                                        "type": "string"
                                    },
                                    "name": {
                                        "type": "string"
                                    },
                                    "type": {
                                        "type": "string"
                                    },
                                    "rate_percent": {
                                        "type": "number",
                                        "nullable": true
                                    },
                                    "is_compound": {
                                        "type": "boolean"
                                    },
                                    "active": {
                                        "type": "boolean"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Tax code created.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/money/tax-codes/{taxCodeId}": {
            "delete": {
                "tags": [
                    "Money"
                ],
                "summary": "Delete tax code",
                "operationId": "deleteTaxCode",
                "responses": {
                    "200": {
                        "description": "Tax code removed.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "get": {
                "tags": [
                    "Money"
                ],
                "summary": "Retrieve tax code",
                "operationId": "showTaxCode",
                "responses": {
                    "200": {
                        "description": "Tax code details.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/TaxCode"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "taxCodeId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ],
            "patch": {
                "tags": [
                    "Money"
                ],
                "summary": "Partially update tax code",
                "operationId": "patchTaxCode",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Tax code updated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "Money"
                ],
                "summary": "Update tax code",
                "operationId": "updateTaxCode",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "name": {
                                        "type": "string"
                                    },
                                    "rate_percent": {
                                        "type": "number",
                                        "nullable": true
                                    },
                                    "is_compound": {
                                        "type": "boolean"
                                    },
                                    "active": {
                                        "type": "boolean"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Tax code updated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/notification-preferences": {
            "get": {
                "tags": [
                    "Notifications"
                ],
                "summary": "Retrieve notification preferences",
                "operationId": "showNotificationPreferences",
                "responses": {
                    "200": {
                        "description": "Per-channel notification preferences for the current user.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "Notifications"
                ],
                "summary": "Update notification preferences",
                "operationId": "updateNotificationPreferences",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Preferences updated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/notifications": {
            "get": {
                "tags": [
                    "Notifications"
                ],
                "summary": "List user notifications",
                "operationId": "listNotifications",
                "responses": {
                    "200": {
                        "description": "Notification feed for authenticated user.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/notifications/mark-all-read": {
            "post": {
                "tags": [
                    "Notifications"
                ],
                "summary": "Mark all notifications as read",
                "operationId": "markAllNotificationsRead",
                "responses": {
                    "200": {
                        "description": "All notifications marked as read.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/notifications/{notificationId}/read": {
            "parameters": [
                {
                    "name": "notificationId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ],
            "put": {
                "tags": [
                    "Notifications"
                ],
                "summary": "Mark notification as read",
                "operationId": "markNotificationRead",
                "responses": {
                    "200": {
                        "description": "Notification marked as read.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/orders": {
            "get": {
                "tags": [
                    "Orders"
                ],
                "summary": "List public supplier orders",
                "operationId": "listOrders",
                "responses": {
                    "200": {
                        "description": "Orders visible to the authenticated supplier.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/orders/{orderId}": {
            "get": {
                "tags": [
                    "Orders"
                ],
                "summary": "Show supplier order detail",
                "operationId": "showOrder",
                "responses": {
                    "200": {
                        "description": "Order details for supplier view.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "orderId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ]
        },
        "/api/purchase-orders": {
            "get": {
                "tags": [
                    "Purchase Orders"
                ],
                "summary": "List purchase orders",
                "operationId": "listPurchaseOrders",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/PerPageQuery"
                    },
                    {
                        "$ref": "#/components/parameters/PageQuery"
                    },
                    {
                        "name": "supplier",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "boolean"
                        }
                    },
                    {
                        "name": "status",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "oneOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "array",
                                    "items": {
                                        "type": "string"
                                    }
                                }
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Paginated list of purchase orders.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "type": "object",
                                                    "required": [
                                                        "items",
                                                        "meta"
                                                    ],
                                                    "properties": {
                                                        "items": {
                                                            "type": "array",
                                                            "items": {
                                                                "$ref": "#/components/schemas/PurchaseOrder"
                                                            }
                                                        },
                                                        "meta": {
                                                            "$ref": "#/components/schemas/PageMeta"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/purchase-orders/{purchaseOrderId}": {
            "get": {
                "tags": [
                    "Purchase Orders"
                ],
                "summary": "Retrieve purchase order",
                "operationId": "showPurchaseOrder",
                "responses": {
                    "200": {
                        "description": "Purchase order detail view.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/PurchaseOrder"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "purchaseOrderId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ]
        },
        "/api/purchase-orders/{purchaseOrderId}/acknowledge": {
            "post": {
                "tags": [
                    "Purchase Orders"
                ],
                "summary": "Supplier acknowledges purchase order",
                "operationId": "acknowledgePurchaseOrder",
                "parameters": [
                    {
                        "name": "purchaseOrderId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "action"
                                ],
                                "properties": {
                                    "action": {
                                        "type": "string",
                                        "enum": [
                                            "accept",
                                            "reject"
                                        ]
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Purchase order acknowledgement recorded.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/purchase-orders/{purchaseOrderId}/change-orders": {
            "get": {
                "tags": [
                    "Purchase Orders"
                ],
                "summary": "List change orders for purchase order",
                "operationId": "listPurchaseOrderChangeOrders",
                "responses": {
                    "200": {
                        "description": "Current change orders for the PO.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "type": "object",
                                                    "required": [
                                                        "items"
                                                    ],
                                                    "properties": {
                                                        "items": {
                                                            "type": "array",
                                                            "items": {
                                                                "$ref": "#/components/schemas/PoChangeOrder"
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "purchaseOrderId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ],
            "post": {
                "tags": [
                    "Purchase Orders"
                ],
                "summary": "Propose change order",
                "operationId": "createPurchaseOrderChangeOrder",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "reason",
                                    "changes_json"
                                ],
                                "properties": {
                                    "reason": {
                                        "type": "string",
                                        "maxLength": 255
                                    },
                                    "changes_json": {
                                        "type": "object",
                                        "additionalProperties": true
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Change order proposed.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/purchase-orders/{purchaseOrderId}/grns": {
            "get": {
                "tags": [
                    "Inventory"
                ],
                "summary": "List goods receipt notes for purchase order",
                "operationId": "listGrns",
                "responses": {
                    "200": {
                        "description": "Collection of goods receipt notes.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "type": "object",
                                                    "required": [
                                                        "items"
                                                    ],
                                                    "properties": {
                                                        "items": {
                                                            "type": "array",
                                                            "items": {
                                                                "$ref": "#/components/schemas/GoodsReceiptNote"
                                                            }
                                                        },
                                                        "meta": {
                                                            "$ref": "#/components/schemas/PageMeta"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "purchaseOrderId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ],
            "post": {
                "tags": [
                    "Inventory"
                ],
                "summary": "Create goods receipt note",
                "operationId": "createGrn",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "lines"
                                ],
                                "properties": {
                                    "lines": {
                                        "type": "array",
                                        "minItems": 1,
                                        "items": {
                                            "type": "object",
                                            "required": [
                                                "purchase_order_line_id",
                                                "quantity_received"
                                            ],
                                            "properties": {
                                                "purchase_order_line_id": {
                                                    "type": "integer"
                                                },
                                                "quantity_received": {
                                                    "type": "number"
                                                },
                                                "quantity_accepted": {
                                                    "type": "number",
                                                    "nullable": true
                                                },
                                                "quantity_rejected": {
                                                    "type": "number",
                                                    "nullable": true
                                                },
                                                "rejection_reason": {
                                                    "type": "string",
                                                    "nullable": true
                                                }
                                            }
                                        }
                                    },
                                    "inspected_at": {
                                        "type": "string",
                                        "format": "date-time",
                                        "nullable": true
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Goods receipt note created.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/purchase-orders/{purchaseOrderId}/grns/{grnId}": {
            "delete": {
                "tags": [
                    "Inventory"
                ],
                "summary": "Delete goods receipt note",
                "operationId": "deleteGrn",
                "responses": {
                    "200": {
                        "description": "Goods receipt deleted.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "get": {
                "tags": [
                    "Inventory"
                ],
                "summary": "Show goods receipt note",
                "operationId": "showGrn",
                "responses": {
                    "200": {
                        "description": "Goods receipt details.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/GoodsReceiptNote"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "purchaseOrderId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                },
                {
                    "name": "grnId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ],
            "put": {
                "tags": [
                    "Inventory"
                ],
                "summary": "Update goods receipt note",
                "operationId": "updateGrn",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "status": {
                                        "type": "string",
                                        "enum": [
                                            "draft",
                                            "inspecting",
                                            "accepted",
                                            "rejected"
                                        ]
                                    },
                                    "lines": {
                                        "type": "array",
                                        "items": {
                                            "type": "object",
                                            "properties": {
                                                "id": {
                                                    "type": "integer"
                                                },
                                                "quantity_accepted": {
                                                    "type": "number"
                                                },
                                                "quantity_rejected": {
                                                    "type": "number"
                                                },
                                                "rejection_reason": {
                                                    "type": "string",
                                                    "nullable": true
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Goods receipt updated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/purchase-orders/{purchaseOrderId}/invoices": {
            "get": {
                "tags": [
                    "Invoices"
                ],
                "summary": "List invoices for a purchase order",
                "operationId": "listInvoicesForPurchaseOrder",
                "responses": {
                    "200": {
                        "description": "Paginated invoices linked to the purchase order.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/InvoiceCollection"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "purchaseOrderId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "string",
                        "format": "uuid"
                    }
                }
            ],
            "post": {
                "tags": [
                    "Invoices"
                ],
                "summary": "Create invoice for purchase order",
                "operationId": "createInvoiceForPurchaseOrder",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "invoice_number",
                                    "currency",
                                    "total",
                                    "file"
                                ],
                                "properties": {
                                    "invoice_number": {
                                        "type": "string"
                                    },
                                    "currency": {
                                        "type": "string"
                                    },
                                    "subtotal": {
                                        "type": "number",
                                        "format": "float"
                                    },
                                    "tax_amount": {
                                        "type": "number",
                                        "format": "float"
                                    },
                                    "total": {
                                        "type": "number",
                                        "format": "float"
                                    },
                                    "file": {
                                        "type": "string",
                                        "format": "binary"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Invoice captured.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/Invoice"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/purchase-orders/{purchaseOrderId}/recalculate": {
            "post": {
                "tags": [
                    "Money"
                ],
                "summary": "Recalculate purchase order totals",
                "operationId": "recalcPurchaseOrderTotals",
                "parameters": [
                    {
                        "name": "purchaseOrderId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Purchase order totals recalculated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/purchase-orders/{purchaseOrderId}/send": {
            "post": {
                "tags": [
                    "Purchase Orders"
                ],
                "summary": "Issue purchase order to supplier",
                "operationId": "sendPurchaseOrder",
                "parameters": [
                    {
                        "name": "purchaseOrderId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Purchase order issued.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationError"
                    }
                }
            }
        },
        "/api/purchase-orders/{purchaseOrderId}/shipments": {
            "get": {
                "tags": [
                    "Purchase Orders"
                ],
                "summary": "List shipments linked to purchase order",
                "operationId": "listPurchaseOrderShipments",
                "responses": {
                    "200": {
                        "description": "Shipment timeline for the purchase order.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "purchaseOrderId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ]
        },
        "/api/quotes": {
            "post": {
                "tags": [
                    "Quotes"
                ],
                "summary": "Submit quote directly",
                "operationId": "submitQuote",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "rfq_id",
                                    "currency",
                                    "items"
                                ],
                                "properties": {
                                    "rfq_id": {
                                        "type": "string",
                                        "format": "uuid"
                                    },
                                    "supplier_id": {
                                        "type": "string",
                                        "format": "uuid"
                                    },
                                    "currency": {
                                        "type": "string"
                                    },
                                    "lead_time_days": {
                                        "type": "integer",
                                        "nullable": true
                                    },
                                    "min_order_qty": {
                                        "type": "integer",
                                        "nullable": true
                                    },
                                    "note": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "items": {
                                        "type": "array",
                                        "minItems": 1,
                                        "items": {
                                            "type": "object",
                                            "required": [
                                                "rfq_item_id",
                                                "unit_price_minor",
                                                "quantity"
                                            ],
                                            "properties": {
                                                "rfq_item_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "quantity": {
                                                    "type": "integer"
                                                },
                                                "unit_price_minor": {
                                                    "type": "integer"
                                                }
                                            }
                                        }
                                    },
                                    "attachments": {
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "uuid"
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Quote submitted.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/Quote"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationError"
                    }
                }
            }
        },
        "/api/quotes/{quoteId}/recalculate": {
            "post": {
                "tags": [
                    "Money"
                ],
                "summary": "Recalculate quote totals",
                "operationId": "recalcQuoteTotals",
                "parameters": [
                    {
                        "name": "quoteId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Quote totals recalculated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/rfqs": {
            "get": {
                "tags": [
                    "RFQs"
                ],
                "summary": "List RFQs",
                "operationId": "listRfqs",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/PerPageQuery"
                    },
                    {
                        "$ref": "#/components/parameters/PageQuery"
                    },
                    {
                        "name": "tab",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "all",
                                "open",
                                "received",
                                "sent"
                            ]
                        },
                        "required": false
                    },
                    {
                        "name": "q",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "sort",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "sent_at",
                                "deadline_at"
                            ]
                        }
                    },
                    {
                        "name": "sort_direction",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "asc",
                                "desc"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Collection of RFQs visible to the current tenant.",
                        "headers": {
                            "X-Request-Id": {
                                "$ref": "#/components/headers/XRequestId"
                            }
                        },
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/RfqCollection"
                                                }
                                            }
                                        }
                                    ]
                                },
                                "examples": {
                                    "default": {
                                        "summary": "RFQ listing",
                                        "value": {
                                            "status": "success",
                                            "message": null,
                                            "data": {
                                                "items": [
                                                    {
                                                        "id": "3c3f9b08-8a89-4a5f-9074-828840fe3f4f",
                                                        "number": "00421",
                                                        "item_name": "Precision Bracket",
                                                        "type": "manufacture",
                                                        "quantity": 250,
                                                        "material": "Aluminum 6061",
                                                        "method": "CNC Milling",
                                                        "status": "open",
                                                        "is_open_bidding": true,
                                                        "deadline_at": 1764547199,
                                                        "sent_at": 1762014612,
                                                        "notes": "Supplier must certify ISO 9001.",
                                                        "created_at": 1761656505,
                                                        "updated_at": 1761656712
                                                    }
                                                ],
                                                "meta": {
                                                    "total": 1,
                                                    "per_page": 15,
                                                    "current_page": 1,
                                                    "last_page": 1
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "RFQs"
                ],
                "summary": "Create RFQ",
                "operationId": "createRfq",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "item_name",
                                    "type",
                                    "quantity",
                                    "material",
                                    "method",
                                    "client_company",
                                    "status",
                                    "items"
                                ],
                                "properties": {
                                    "item_name": {
                                        "type": "string"
                                    },
                                    "type": {
                                        "type": "string",
                                        "enum": [
                                            "ready_made",
                                            "manufacture"
                                        ]
                                    },
                                    "quantity": {
                                        "type": "integer"
                                    },
                                    "material": {
                                        "type": "string"
                                    },
                                    "method": {
                                        "type": "string"
                                    },
                                    "tolerance": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "finish": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "client_company": {
                                        "type": "string"
                                    },
                                    "status": {
                                        "type": "string",
                                        "enum": [
                                            "awaiting",
                                            "open",
                                            "closed",
                                            "awarded",
                                            "cancelled"
                                        ]
                                    },
                                    "deadline_at": {
                                        "type": "string",
                                        "format": "date-time",
                                        "nullable": true
                                    },
                                    "is_open_bidding": {
                                        "type": "boolean"
                                    },
                                    "notes": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "cad": {
                                        "type": "string",
                                        "format": "binary"
                                    },
                                    "items": {
                                        "type": "array",
                                        "minItems": 1,
                                        "items": {
                                            "type": "object",
                                            "required": [
                                                "part_name",
                                                "quantity"
                                            ],
                                            "properties": {
                                                "part_name": {
                                                    "type": "string"
                                                },
                                                "spec": {
                                                    "type": "string",
                                                    "nullable": true
                                                },
                                                "quantity": {
                                                    "type": "integer",
                                                    "minimum": 1
                                                },
                                                "uom": {
                                                    "type": "string",
                                                    "nullable": true
                                                },
                                                "target_price": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "nullable": true
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "RFQ created.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/Rfq"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationError"
                    }
                }
            }
        },
        "/api/rfqs/{rfqId}": {
            "delete": {
                "tags": [
                    "RFQs"
                ],
                "summary": "Delete RFQ",
                "operationId": "deleteRfq",
                "responses": {
                    "200": {
                        "description": "RFQ deleted.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/NotFound"
                    }
                }
            },
            "get": {
                "tags": [
                    "RFQs"
                ],
                "summary": "Retrieve RFQ",
                "operationId": "showRfq",
                "responses": {
                    "200": {
                        "description": "RFQ details.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/Rfq"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/NotFound"
                    }
                }
            },
            "parameters": [
                {
                    "name": "rfqId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "string",
                        "format": "uuid"
                    }
                }
            ],
            "put": {
                "tags": [
                    "RFQs"
                ],
                "summary": "Update RFQ",
                "operationId": "updateRfq",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "item_name": {
                                        "type": "string"
                                    },
                                    "type": {
                                        "type": "string"
                                    },
                                    "quantity": {
                                        "type": "integer"
                                    },
                                    "material": {
                                        "type": "string"
                                    },
                                    "method": {
                                        "type": "string"
                                    },
                                    "tolerance": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "finish": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "status": {
                                        "type": "string",
                                        "enum": [
                                            "awaiting",
                                            "open",
                                            "closed",
                                            "awarded",
                                            "cancelled"
                                        ]
                                    },
                                    "is_open_bidding": {
                                        "type": "boolean"
                                    },
                                    "notes": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "deadline_at": {
                                        "type": "string",
                                        "format": "date-time",
                                        "nullable": true
                                    },
                                    "cad": {
                                        "type": "string",
                                        "format": "binary"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "RFQ updated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/Rfq"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/NotFound"
                    }
                }
            }
        },
        "/api/rfqs/{rfqId}/attachments": {
            "get": {
                "tags": [
                    "RFQs"
                ],
                "summary": "List RFQ attachments",
                "operationId": "listRfqAttachments",
                "responses": {
                    "200": {
                        "description": "Attachments linked to the RFQ.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "type": "object",
                                                    "required": [
                                                        "items"
                                                    ],
                                                    "properties": {
                                                        "items": {
                                                            "type": "array",
                                                            "items": {
                                                                "$ref": "#/components/schemas/RfqAttachment"
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/NotFound"
                    }
                }
            },
            "parameters": [
                {
                    "name": "rfqId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "string",
                        "format": "uuid"
                    }
                }
            ],
            "post": {
                "tags": [
                    "RFQs"
                ],
                "summary": "Upload RFQ attachment",
                "operationId": "uploadRfqAttachment",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "file"
                                ],
                                "properties": {
                                    "file": {
                                        "type": "string",
                                        "format": "binary"
                                    },
                                    "title": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "description": {
                                        "type": "string",
                                        "nullable": true
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Attachment uploaded.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/RfqAttachment"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/NotFound"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationError"
                    }
                }
            }
        },
        "/api/rfqs/{rfqId}/attachments/{attachmentId}": {
            "delete": {
                "tags": [
                    "RFQs"
                ],
                "summary": "Delete RFQ attachment",
                "operationId": "deleteRfqAttachment",
                "responses": {
                    "200": {
                        "description": "Attachment removed.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/NotFound"
                    }
                }
            },
            "parameters": [
                {
                    "name": "rfqId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "string",
                        "format": "uuid"
                    }
                },
                {
                    "name": "attachmentId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "string",
                        "format": "uuid"
                    }
                }
            ]
        },
        "/api/rfqs/{rfqId}/award": {
            "post": {
                "tags": [
                    "RFQs"
                ],
                "summary": "Award RFQ",
                "operationId": "awardRfq",
                "parameters": [
                    {
                        "name": "rfqId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "quote_id"
                                ],
                                "properties": {
                                    "quote_id": {
                                        "type": "string",
                                        "format": "uuid"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Award created.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/rfqs/{rfqId}/award-lines": {
            "post": {
                "tags": [
                    "RFQs"
                ],
                "summary": "Award specific RFQ lines",
                "operationId": "awardRfqLines",
                "parameters": [
                    {
                        "name": "rfqId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/AwardLinesRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Award lines processed.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/rfqs/{rfqId}/clarifications": {
            "get": {
                "tags": [
                    "RFQs"
                ],
                "summary": "List clarifications",
                "operationId": "listRfqClarifications",
                "responses": {
                    "200": {
                        "description": "Clarifications for the RFQ.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "type": "object",
                                                    "required": [
                                                        "items"
                                                    ],
                                                    "properties": {
                                                        "items": {
                                                            "type": "array",
                                                            "items": {
                                                                "$ref": "#/components/schemas/RfqClarification"
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "rfqId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "string",
                        "format": "uuid"
                    }
                }
            ]
        },
        "/api/rfqs/{rfqId}/clarifications/amendment": {
            "post": {
                "tags": [
                    "RFQs"
                ],
                "summary": "Publish amendment",
                "operationId": "createRfqAmendment",
                "parameters": [
                    {
                        "name": "rfqId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "body"
                                ],
                                "properties": {
                                    "body": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Amendment published.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/rfqs/{rfqId}/clarifications/answer": {
            "post": {
                "tags": [
                    "RFQs"
                ],
                "summary": "Submit clarification answer",
                "operationId": "createRfqClarificationAnswer",
                "parameters": [
                    {
                        "name": "rfqId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "body"
                                ],
                                "properties": {
                                    "body": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Answer submitted.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/rfqs/{rfqId}/clarifications/question": {
            "post": {
                "tags": [
                    "RFQs"
                ],
                "summary": "Submit clarification question",
                "operationId": "createRfqClarificationQuestion",
                "parameters": [
                    {
                        "name": "rfqId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "body"
                                ],
                                "properties": {
                                    "body": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Question submitted.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/rfqs/{rfqId}/close": {
            "post": {
                "tags": [
                    "RFQs"
                ],
                "summary": "Close RFQ",
                "operationId": "closeRfq",
                "parameters": [
                    {
                        "name": "rfqId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": false,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/CloseRfqRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "RFQ closed.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/Rfq"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/NotFound"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationError"
                    }
                }
            }
        },
        "/api/rfqs/{rfqId}/invitations": {
            "get": {
                "tags": [
                    "RFQs"
                ],
                "summary": "List RFQ invitations",
                "operationId": "listRfqInvitations",
                "responses": {
                    "200": {
                        "description": "Invitations for the given RFQ.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "type": "object",
                                                    "required": [
                                                        "items",
                                                        "meta"
                                                    ],
                                                    "properties": {
                                                        "items": {
                                                            "type": "array",
                                                            "items": {
                                                                "$ref": "#/components/schemas/RfqInvitation"
                                                            }
                                                        },
                                                        "meta": {
                                                            "$ref": "#/components/schemas/PageMeta"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "rfqId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "string",
                        "format": "uuid"
                    }
                }
            ],
            "post": {
                "tags": [
                    "RFQs"
                ],
                "summary": "Invite supplier to RFQ",
                "operationId": "inviteSupplierToRfq",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "supplier_id"
                                ],
                                "properties": {
                                    "supplier_id": {
                                        "type": "string",
                                        "format": "uuid"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Invitation created.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationError"
                    }
                }
            }
        },
        "/api/rfqs/{rfqId}/lines": {
            "get": {
                "tags": [
                    "RFQs"
                ],
                "summary": "List RFQ lines",
                "operationId": "listRfqLines",
                "responses": {
                    "200": {
                        "description": "Line items belonging to the RFQ.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "type": "object",
                                                    "required": [
                                                        "items"
                                                    ],
                                                    "properties": {
                                                        "items": {
                                                            "type": "array",
                                                            "items": {
                                                                "$ref": "#/components/schemas/RfqItem"
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/NotFound"
                    }
                }
            },
            "parameters": [
                {
                    "name": "rfqId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "string",
                        "format": "uuid"
                    }
                }
            ],
            "post": {
                "tags": [
                    "RFQs"
                ],
                "summary": "Add RFQ line",
                "operationId": "createRfqLine",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/RfqLinePayload"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "RFQ line created.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/RfqItem"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/NotFound"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationError"
                    }
                }
            }
        },
        "/api/rfqs/{rfqId}/lines/{lineId}": {
            "delete": {
                "tags": [
                    "RFQs"
                ],
                "summary": "Delete RFQ line",
                "operationId": "deleteRfqLine",
                "responses": {
                    "200": {
                        "description": "RFQ line deleted.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/NotFound"
                    }
                }
            },
            "parameters": [
                {
                    "name": "rfqId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "string",
                        "format": "uuid"
                    }
                },
                {
                    "name": "lineId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "string",
                        "format": "uuid"
                    }
                }
            ],
            "put": {
                "tags": [
                    "RFQs"
                ],
                "summary": "Update RFQ line",
                "operationId": "updateRfqLine",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/RfqLinePayload"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "RFQ line updated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/RfqItem"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/NotFound"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationError"
                    }
                }
            }
        },
        "/api/rfqs/{rfqId}/publish": {
            "post": {
                "tags": [
                    "RFQs"
                ],
                "summary": "Publish RFQ",
                "operationId": "publishRfq",
                "parameters": [
                    {
                        "name": "rfqId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/PublishRfqRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "RFQ published.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/Rfq"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/NotFound"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationError"
                    }
                }
            }
        },
        "/api/rfqs/{rfqId}/quotes": {
            "get": {
                "tags": [
                    "Quotes"
                ],
                "summary": "List quotes for RFQ",
                "operationId": "listQuotesForRfq",
                "responses": {
                    "200": {
                        "description": "Quotes submitted for the RFQ.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "type": "object",
                                                    "required": [
                                                        "items"
                                                    ],
                                                    "properties": {
                                                        "items": {
                                                            "type": "array",
                                                            "items": {
                                                                "$ref": "#/components/schemas/Quote"
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "rfqId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "string",
                        "format": "uuid"
                    }
                }
            ]
        },
        "/api/rfqs/{rfqId}/quotes/{quoteId}/revisions": {
            "get": {
                "tags": [
                    "Quotes"
                ],
                "summary": "List quote revisions",
                "operationId": "listQuoteRevisions",
                "responses": {
                    "200": {
                        "description": "Quote revision history.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "type": "object",
                                                    "required": [
                                                        "items"
                                                    ],
                                                    "properties": {
                                                        "items": {
                                                            "type": "array",
                                                            "items": {
                                                                "$ref": "#/components/schemas/QuoteRevision"
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "rfqId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "string",
                        "format": "uuid"
                    }
                },
                {
                    "name": "quoteId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "string",
                        "format": "uuid"
                    }
                }
            ],
            "post": {
                "tags": [
                    "Quotes"
                ],
                "summary": "Submit quote revision",
                "operationId": "submitQuoteRevision",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "note",
                                    "items"
                                ],
                                "properties": {
                                    "note": {
                                        "type": "string"
                                    },
                                    "items": {
                                        "type": "array",
                                        "minItems": 1,
                                        "items": {
                                            "type": "object",
                                            "required": [
                                                "rfq_item_id",
                                                "unit_price_minor",
                                                "quantity"
                                            ],
                                            "properties": {
                                                "rfq_item_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "quantity": {
                                                    "type": "integer"
                                                },
                                                "unit_price_minor": {
                                                    "type": "integer"
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Revision accepted.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/rfqs/{rfqId}/quotes/{quoteId}/withdraw": {
            "post": {
                "tags": [
                    "Quotes"
                ],
                "summary": "Withdraw quote",
                "operationId": "withdrawQuote",
                "parameters": [
                    {
                        "name": "rfqId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "quoteId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "reason"
                                ],
                                "properties": {
                                    "reason": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Quote withdrawn.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/rfqs/{rfqId}/timeline": {
            "get": {
                "tags": [
                    "RFQs"
                ],
                "summary": "RFQ timeline entries",
                "operationId": "listRfqTimeline",
                "parameters": [
                    {
                        "name": "rfqId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Chronological timeline of RFQ events.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "type": "object",
                                                    "required": [
                                                        "items"
                                                    ],
                                                    "properties": {
                                                        "items": {
                                                            "type": "array",
                                                            "items": {
                                                                "$ref": "#/components/schemas/RfqTimelineEntry"
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/NotFound"
                    }
                }
            }
        },
        "/api/risk": {
            "get": {
                "tags": [
                    "Risk"
                ],
                "summary": "List supplier risk scores",
                "operationId": "listRiskScores",
                "responses": {
                    "200": {
                        "description": "Current risk scores for suppliers in tenant.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/risk/generate": {
            "post": {
                "tags": [
                    "Risk"
                ],
                "summary": "Generate new risk scores for suppliers",
                "operationId": "generateRiskScores",
                "requestBody": {
                    "required": false,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "202": {
                        "description": "Risk generation queued.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/risk/{supplierId}": {
            "get": {
                "tags": [
                    "Risk"
                ],
                "summary": "Retrieve supplier risk score",
                "operationId": "showRiskScore",
                "responses": {
                    "200": {
                        "description": "Supplier risk score snapshot.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "supplierId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ]
        },
        "/api/rmas": {
            "get": {
                "tags": [
                    "Inventory"
                ],
                "summary": "List RMAs",
                "operationId": "listRmas",
                "responses": {
                    "200": {
                        "description": "Collection of RMAs.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "type": "object",
                                                    "required": [
                                                        "items"
                                                    ],
                                                    "properties": {
                                                        "items": {
                                                            "type": "array",
                                                            "items": {
                                                                "$ref": "#/components/schemas/Rma"
                                                            }
                                                        },
                                                        "meta": {
                                                            "$ref": "#/components/schemas/PageMeta"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/rmas/purchase-orders/{purchaseOrderId}": {
            "post": {
                "tags": [
                    "Inventory"
                ],
                "summary": "Create RMA for purchase order",
                "operationId": "createRma",
                "parameters": [
                    {
                        "name": "purchaseOrderId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "reason"
                                ],
                                "properties": {
                                    "reason": {
                                        "type": "string"
                                    },
                                    "attachments": {
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "uuid"
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "RMA created.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/rmas/{rmaId}": {
            "get": {
                "tags": [
                    "Inventory"
                ],
                "summary": "Retrieve RMA",
                "operationId": "showRma",
                "parameters": [
                    {
                        "name": "rmaId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "RMA detail.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/Rma"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/rmas/{rmaId}/review": {
            "post": {
                "tags": [
                    "Inventory"
                ],
                "summary": "Review RMA",
                "operationId": "reviewRma",
                "parameters": [
                    {
                        "name": "rmaId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "decision"
                                ],
                                "properties": {
                                    "decision": {
                                        "type": "string",
                                        "enum": [
                                            "approve",
                                            "reject"
                                        ]
                                    },
                                    "comment": {
                                        "type": "string",
                                        "nullable": true
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Review recorded.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/saved-searches": {
            "get": {
                "tags": [
                    "Search"
                ],
                "summary": "List saved searches",
                "operationId": "listSavedSearches",
                "responses": {
                    "200": {
                        "description": "Saved searches for the authenticated user.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "type": "object",
                                                    "properties": {
                                                        "items": {
                                                            "type": "array",
                                                            "items": {
                                                                "$ref": "#/components/schemas/SavedSearch"
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Search"
                ],
                "summary": "Create saved search",
                "operationId": "createSavedSearch",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "name",
                                    "query"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string"
                                    },
                                    "query": {
                                        "type": "object",
                                        "additionalProperties": true
                                    },
                                    "shared": {
                                        "type": "boolean",
                                        "default": false
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Saved search created.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/saved-searches/{savedSearchId}": {
            "delete": {
                "tags": [
                    "Search"
                ],
                "summary": "Delete saved search",
                "operationId": "deleteSavedSearch",
                "responses": {
                    "200": {
                        "description": "Saved search removed.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "get": {
                "tags": [
                    "Search"
                ],
                "summary": "Show saved search",
                "operationId": "showSavedSearch",
                "responses": {
                    "200": {
                        "description": "Saved search detail.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/SavedSearch"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "savedSearchId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ],
            "put": {
                "tags": [
                    "Search"
                ],
                "summary": "Update saved search",
                "operationId": "updateSavedSearch",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "name": {
                                        "type": "string"
                                    },
                                    "query": {
                                        "type": "object",
                                        "additionalProperties": true
                                    },
                                    "shared": {
                                        "type": "boolean"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Saved search updated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/search": {
            "get": {
                "tags": [
                    "Search"
                ],
                "summary": "Perform global search across tenant resources",
                "operationId": "searchGlobal",
                "parameters": [
                    {
                        "name": "q",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "types",
                        "in": "query",
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "description": "Optional filters limiting domain (comma separated)."
                    },
                    {
                        "name": "date_from",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "format": "date"
                        }
                    },
                    {
                        "name": "date_to",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "format": "date"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Aggregated search results ordered by relevance.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "type": "object",
                                                    "properties": {
                                                        "results": {
                                                            "type": "array",
                                                            "items": {
                                                                "$ref": "#/components/schemas/SearchResult"
                                                            }
                                                        },
                                                        "meta": {
                                                            "$ref": "#/components/schemas/RequestMeta"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/supplier-applications": {
            "get": {
                "tags": [
                    "Suppliers"
                ],
                "summary": "List supplier applications",
                "operationId": "listSupplierApplications",
                "responses": {
                    "200": {
                        "description": "Paginated supplier applications.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "type": "object",
                                                    "properties": {
                                                        "items": {
                                                            "type": "array",
                                                            "items": {
                                                                "$ref": "#/components/schemas/SupplierApplication"
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Suppliers"
                ],
                "summary": "Submit supplier application",
                "operationId": "createSupplierApplication",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Supplier application submitted.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/supplier-applications/{applicationId}": {
            "delete": {
                "tags": [
                    "Suppliers"
                ],
                "summary": "Delete supplier application",
                "operationId": "deleteSupplierApplication",
                "responses": {
                    "200": {
                        "description": "Supplier application deleted.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "get": {
                "tags": [
                    "Suppliers"
                ],
                "summary": "Show supplier application",
                "operationId": "showSupplierApplication",
                "responses": {
                    "200": {
                        "description": "Supplier application details.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/SupplierApplication"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "applicationId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ]
        },
        "/api/suppliers": {
            "get": {
                "tags": [
                    "Suppliers"
                ],
                "summary": "List suppliers for current company",
                "operationId": "listSuppliers",
                "responses": {
                    "200": {
                        "description": "Paginated suppliers.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "type": "object",
                                                    "properties": {
                                                        "items": {
                                                            "type": "array",
                                                            "items": {
                                                                "$ref": "#/components/schemas/Supplier"
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/suppliers/{supplierId}": {
            "get": {
                "tags": [
                    "Suppliers"
                ],
                "summary": "Show supplier",
                "operationId": "showSupplier",
                "responses": {
                    "200": {
                        "description": "Supplier details.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ApiSuccessResponse"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/Supplier"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "supplierId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ]
        },
        "/api/suppliers/{supplierId}/esg": {
            "get": {
                "tags": [
                    "Suppliers"
                ],
                "summary": "List ESG records for supplier",
                "operationId": "listSupplierEsg",
                "responses": {
                    "200": {
                        "description": "Environmental, social, and governance records for the supplier.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "supplierId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ],
            "post": {
                "tags": [
                    "Suppliers"
                ],
                "summary": "Store ESG record for supplier",
                "operationId": "createSupplierEsg",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "ESG record created.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/suppliers/{supplierId}/esg/export": {
            "parameters": [
                {
                    "name": "supplierId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ],
            "post": {
                "tags": [
                    "Suppliers"
                ],
                "summary": "Queue ESG export for supplier",
                "operationId": "exportSupplierEsg",
                "responses": {
                    "202": {
                        "description": "ESG export queued.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/suppliers/{supplierId}/esg/{recordId}": {
            "delete": {
                "tags": [
                    "Suppliers"
                ],
                "summary": "Delete ESG record",
                "operationId": "deleteSupplierEsg",
                "responses": {
                    "200": {
                        "description": "ESG record deleted.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "supplierId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                },
                {
                    "name": "recordId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }
            ],
            "put": {
                "tags": [
                    "Suppliers"
                ],
                "summary": "Update ESG record",
                "operationId": "updateSupplierEsg",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "ESG record updated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/webhooks/stripe/customer/subscription-updated": {
            "post": {
                "tags": [
                    "Webhooks"
                ],
                "summary": "Stripe subscription updated webhook",
                "operationId": "stripeSubscriptionUpdated",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Webhook acknowledged.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/webhooks/stripe/invoice/payment-failed": {
            "post": {
                "tags": [
                    "Webhooks"
                ],
                "summary": "Stripe invoice payment failed event hook",
                "operationId": "stripeInvoicePaymentFailed",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Webhook acknowledged.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/webhooks/stripe/invoice/payment-succeeded": {
            "post": {
                "tags": [
                    "Webhooks"
                ],
                "summary": "Stripe invoice payment succeeded event hook",
                "operationId": "stripeInvoicePaymentSucceeded",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Webhook acknowledged.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiSuccessResponse"
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}